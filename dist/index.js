"use strict";var _globalThis = function (Object) {function get() {var _global = this || self;delete Object.prototype.__magic__;return _global;}if (typeof globalThis === "object") {return globalThis;}if (this) {return get();} else {Object.defineProperty(Object.prototype, "__magic__", { configurable: true, get: get });var _global = __magic__;return _global;}}(Object);var e = "undefined" != typeof _globalThis ? _globalThis : "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {},t = require("atom-package-deps").install,n = require("path"),i = require("url"),r = require("disposable-event"),s = require("assert"),o = require("electron").shell,u = require("atom"),a = u.CompositeDisposable,l = u.Emitter,c = u.Disposable,d = u.Range;Object.defineProperty(exports, "__esModule", { value: !0 });var h = function () {atom.config.get("linter-ui-default.useBusySignal") && atom.packages.getLoadedPackage("linter-ui-default").metadata["package-deps"].push("busy-signal");const e = window.requestIdleCallback(function () {mr.delete(e), atom.inSpecMode() || t("linter-ui-default");});mr.add(e);};exports.activate = h;var f = function () {mr.forEach(e => window.cancelIdleCallback(e)), mr.clear();for (const e of vr) e.dispose();vr.clear();};exports.deactivate = f;var p = function () {const e = new Dr.default();vr.add(e), br && e.signal.attach(br);return e;};exports.provideUI = p;var g = function () {return Array.from(vr).map(e => e.intentions);};exports.provideIntentions = g;var D = function (e) {br = e, vr.forEach(function (e) {e.signal.attach(br);});};exports.consumeSignal = D;var m = function (e) {wr = e, vr.forEach(function (e) {e.statusBar.attach(wr);});};exports.consumeStatusBar = m;var v = {};Object.defineProperty(v, "__esModule", { value: !0 });var b = void 0;v.default = b;var w = {};Object.defineProperty(w, "__esModule", { value: !0 });var C = void 0;w.default = C;var y = {};Object.defineProperty(y, "__esModule", { value: !0 });var E = void 0;y.default = E;var k = {};Object.defineProperty(k, "__esModule", { value: !0 });var A = Z;k.$range = A;var F = G;k.$file = F;var x = function () {const e = getSelection();e && atom.clipboard.write(e.toString());};k.copySelection = x;var B = K;k.getPathOfMessage = B;var S = function () {let e = atom.workspace.getCenter().getActivePaneItem();const t = null !== e && atom.workspace.isTextEditor(e);!t && e && N && e.getURI && "atom://linter-ui-default" === e.getURI() && (!N.isAlive || N.isAlive()) ? e = N : N = e;return t ? e : null;};k.getActiveTextEditor = S;var P = function (e) {const t = new Map(),n = [];for (const r of e.editors) {var i;const e = null !== (i = r.textEditor.getPath()) && void 0 !== i ? i : "";t.has(e) ? t.get(e).editors.push(r) : (t.set(e, { added: [], removed: [], editors: [r] }), n.push(e));}return { editorsMap: t, filePaths: n };};k.getEditorsMap = P;var _ = function (e, t, n = null) {const i = [];return e.forEach(function (e) {e && e.location && (null !== t && G(e) !== t || n && e.severity !== n || i.push(e));}), i;};k.filterMessages = _;var T = function (e, t, n) {const i = [],r = "Point" === n.constructor.name ? new d(n, n) : d.fromObject(n);return e.forEach(function (e) {const n = G(e),s = Z(e);n && s && n === t && "function" == typeof s.intersectsWith && s.intersectsWith(r) && i.push(e);}), i;};k.filterMessagesByRangeOrPoint = T;var $ = Y;k.openFile = $;var M = function (e, t = !1) {let n, i;if (t) {if (!e.reference || !e.reference.file) return void console.warn("[Linter-UI-Default] Message does not have a valid reference. Ignoring");n = e.reference.file, i = e.reference.position;} else {const t = Z(e);n = G(e), t && (i = t.start);}n && Y(n, i);};k.visitMessage = M;var O = function (e) {2 === e.version && e.url && o.openExternal(e.url);};k.openExternally = O;var L = function (e, t) {const n = t[0],i = "asc" === t[1] ? 1 : -1;return e.sort(function (e, t) {if ("severity" === n) {const n = q[e.severity],r = q[t.severity];if (n !== r) return i * (n > r ? 1 : -1);}if ("linterName" === n) {const n = e.severity.localeCompare(t.severity);if (0 !== n) return i * n;}if ("file" === n) {const n = K(e),r = n.length,s = K(t),o = s.length;if (r !== o) return i * (r > o ? 1 : -1);if (n !== s) return i * n.localeCompare(s);}if ("line" === n) {const n = Z(e),r = Z(t);if (n && !r) return 1;if (r && !n) return -1;if (n && r) {if (n.start.row !== r.start.row) return i * (n.start.row > r.start.row ? 1 : -1);if (n.start.column !== r.start.column) return i * (n.start.column > r.start.column ? 1 : -1);}}return 0;});};k.sortMessages = L;var I = function (e) {return e.sort(function (e, t) {return void 0 === e.priority || void 0 === t.priority ? 0 : t.priority - e.priority;});};k.sortSolutions = I;var z = function (e, t) {if ("apply" in t) return t.apply(), !0;const n = t.position,i = t.replaceWith;if ("currentText" in t) {const i = t.currentText,r = e.getTextInBufferRange(n);if (i !== r) return console.warn("[linter-ui-default] Not applying fix because text did not match the expected one", "expected", i, "but got", r), !1;}return e.setTextInBufferRange(n, i), !0;};k.applySolution = z;var R = function (e) {const t = e.getLineCount();if (e.largeFileMode || t >= X) return !0;const n = e.getBuffer();for (let e = 0, i = t; e < i; e++) if (n.lineLengthForRow(e) > J) return !0;return !1;};k.isLargeFile = R;var j = (W = void 0, H = k.severityScore = W, V = k.severityNames = H, U = k.WORKSPACE_URI = V, k.DOCK_ALLOWED_LOCATIONS = U);k.DOCK_DEFAULT_LOCATION = j;let N = null;const q = { error: 3, warning: 2, info: 1 };var W = q;k.severityScore = W;var H = { error: "Error", warning: "Warning", info: "Info" };k.severityNames = H;var V = "atom://linter-ui-default";k.WORKSPACE_URI = V;var U = ["center", "bottom"];k.DOCK_ALLOWED_LOCATIONS = U;function Z(e) {return e.location.position;}function G(e) {return e.location.file;}function K(e) {return atom.project.relativizePath(G(e) || "")[1];}function Y(e, t) {const n = { searchAllPanes: !0 };t && (n.initialLine = t.row, n.initialColumn = t.column), atom.workspace.open(e, n);}j = "bottom", k.DOCK_DEFAULT_LOCATION = j;const X = atom.config.get("linter-ui-default.largeFileLineCount"),J = atom.config.get("linter-ui-default.longLineLength");E = class {constructor() {this.emitter = new l(), this.messages = [], this.filteredMessages = [], this.subscriptions = new a(), this.panelRepresents = void 0;let e = null;this.subscriptions.add(atom.config.observe("linter-ui-default.panelRepresents", e => {const t = void 0 !== this.panelRepresents;this.panelRepresents = e, t && this.update();}), atom.workspace.getCenter().observeActivePaneItem(() => {e && (e.dispose(), e = null);const t = (0, k.getActiveTextEditor)();if (t) {"Entire Project" !== this.panelRepresents && this.update();let n = -1;e = t.onDidChangeCursorPosition(({ newBufferPosition: e }) => {n !== e.row && "Current Line" === this.panelRepresents && (n = e.row, this.update());});}("Entire Project" !== this.panelRepresents || t) && this.update();}), new c(function () {e && e.dispose();}));}getFilteredMessages() {let e = [];if ("Entire Project" === this.panelRepresents) e = this.messages;else if ("Current File" === this.panelRepresents) {const t = (0, k.getActiveTextEditor)();if (!t) return [];e = (0, k.filterMessages)(this.messages, t.getPath());} else if ("Current Line" === this.panelRepresents) {const t = (0, k.getActiveTextEditor)();if (!t) return [];const n = t.getCursors()[0].getBufferRow();e = (0, k.filterMessagesByRangeOrPoint)(this.messages, t.getPath(), d.fromObject([[n, 0], [n, 1 / 0]]));}return e;}update(e = null) {Array.isArray(e) && (this.messages = e), this.filteredMessages = this.getFilteredMessages(), this.emitter.emit("observe-messages", this.filteredMessages);}onDidChangeMessages(e) {return this.emitter.on("observe-messages", e);}dispose() {this.subscriptions.dispose();}}, y.default = E;var Q = Gt(y = y.default),ee = {};Object.defineProperty(ee, "__esModule", { value: !0 });var te = void 0;ee.default = te;const ne = {};function ie(e) {ne.context = e;}const re = (e, t) => e === t;let se = null,oe = Ie;const ue = {},ae = { owned: null, cleanups: null, context: null, owner: null },[le, ce] = we(!1, !0);var de = null,he = null;let fe,pe = null,ge = null,De = null,me = null,ve = 0;function be(e, t) {t && (de = t);const n = he,i = de,r = 0 === e.length ? ae : { owned: null, cleanups: null, context: null, owner: i, attached: !!t };let s;de = r, he = null;try {Le(() => s = e(() => Ne(r)), !0);} finally {he = n, de = i;}return s;}function we(e, t, n) {const i = { value: e, observers: null, observerSlots: null, pending: ue, comparator: t ? "function" == typeof t ? t : re : void 0 };return [Pe.bind(i), _e.bind(i)];}function Ce(e, t) {Te(Me(e, t, !0));}function ye(e, t) {Te(Me(e, t, !1));}function Ee(e, t, n) {const i = Me(e, t, !0);return i.pending = ue, i.observers = null, i.observerSlots = null, i.state = 0, i.comparator = n ? "function" == typeof n ? n : re : void 0, Te(i), Pe.bind(i);}function ke(e) {if (pe) return e();const t = pe = [],n = e();return pe = null, Le(() => {for (let e = 0; e < t.length; e += 1) {const n = t[e];if (n.pending !== ue) {const e = n.pending;n.pending = ue, _e.call(n, e);}}}, !1), n;}function Ae(e) {let t,n = he;return he = null, t = e(), he = n, t;}function Fe(e) {!function (e, t) {oe = ze;const n = Me(e, t, !1),i = fe && He(de, fe.id);i && (n.suspense = i), n.user = !0, De && De.push(n);}(() => Ae(e));}function xe(e) {return null === de || (null === de.cleanups ? de.cleanups = [e] : de.cleanups.push(e)), e;}function Be(e) {const t = Symbol("context");return { id: t, Provider: Ue(t), defaultValue: e };}function Se(e) {const t = Ee(e);return Ee(() => Ve(t()));}function Pe() {if (this.state && this.sources) {const e = ge;ge = null, 1 === this.state ? Te(this) : Re(this), ge = e;}if (he) {const e = this.observers ? this.observers.length : 0;he.sources ? (he.sources.push(this), he.sourceSlots.push(e)) : (he.sources = [this], he.sourceSlots = [e]), this.observers ? (this.observers.push(he), this.observerSlots.push(he.sources.length - 1)) : (this.observers = [he], this.observerSlots = [he.sources.length - 1]);}return me && me.running && me.sources.has(this) ? this.tValue : this.value;}function _e(e, t) {if (this.comparator) if (me && me.running && me.sources.has(this)) {if (this.comparator(this.tValue, e)) return e;} else if (this.comparator(this.value, e)) return e;return pe ? (this.pending === ue && pe.push(this), this.pending = e, e) : (me ? ((me.running || !t && me.sources.has(this)) && (me.sources.add(this), this.tValue = e), me.running || (this.value = e)) : this.value = e, !this.observers || ge && !this.observers.length || Le(() => {for (let e = 0; e < this.observers.length; e += 1) {const t = this.observers[e];me && me.running && me.disposed.has(t) || (t.observers && 2 !== t.state && je(t), t.state = 1, t.pure ? ge.push(t) : De.push(t));}if (ge.length > 1e6) throw ge = [], new Error("Potential Infinite Loop Detected.");}, !1), e);}function Te(e) {if (!e.fn) return;Ne(e);const t = de,n = he,i = ve;he = de = e, $e(e, e.value, i), me && !me.running && me.sources.has(e) && (me.running = !0, $e(e, e.tValue, i), me.running = !1), he = n, de = t;}function $e(e, t, n) {let i;try {i = e.fn(t);} catch (e) {We(e);}(!e.updatedAt || e.updatedAt <= n) && (e.observers && e.observers.length ? _e.call(e, i, !0) : me && me.running && e.pure ? (me.sources.add(e), e.tValue = i) : e.value = i, e.updatedAt = n);}function Me(e, t, n) {const i = { fn: e, state: 1, updatedAt: null, owned: null, sources: null, sourceSlots: null, cleanups: null, value: t, owner: de, context: null, pure: n };return null === de || de !== ae && (me && me.running && de.pure ? de.tOwned ? de.tOwned.push(i) : de.tOwned = [i] : de.owned ? de.owned.push(i) : de.owned = [i]), i;}function Oe(e) {let t,n = 1 === e.state && e;if (e.suspense && Ae(e.suspense.inFallback)) return e.suspense.effects.push(e);const i = me && me.running;for (; (e.fn || i && e.attached) && (e = e.owner);) {if (i && me.disposed.has(e)) return;2 === e.state ? t = e : 1 === e.state && (n = e, t = void 0);}if (t) {const r = ge;if (ge = null, Re(t), ge = r, !n || 1 !== n.state) return;if (i) for (e = n; (e.fn || e.attached) && (e = e.owner);) if (me.disposed.has(e)) return;}n && Te(n);}function Le(e, t) {if (ge) return e();let n = !1;t || (ge = []), De ? n = !0 : De = [], ve++;try {e();} catch (e) {We(e);} finally {!function (e) {ge && (Ie(ge), ge = null);if (e) return;let t;if (me && me.running) {if (me.promises.size) return me.running = !1, me.effects.push.apply(me.effects, De), De = null, void ce(!0);const e = me.sources;t = me.cb, me = null, ke(() => {e.forEach(e => {if (e.value = e.tValue, e.owned) for (let t = 0, n = e.owned.length; t < n; t++) Ne(e.owned[t]);e.tOwned && (e.owned = e.tOwned), delete e.tValue, delete e.tOwned;}), ce(!1);});}De.length ? ke(() => {oe(De), De = null;}) : De = null;t && t.forEach(e => e());}(n);}}function Ie(e) {for (let t = 0; t < e.length; t++) Oe(e[t]);}function ze(e) {let t,n = 0;for (t = 0; t < e.length; t++) {const i = e[t];i.user ? e[n++] = i : Oe(i);}const i = e.length;for (t = 0; t < n; t++) Oe(e[t]);for (t = i; t < e.length; t++) Oe(e[t]);}function Re(e) {e.state = 0;for (let t = 0; t < e.sources.length; t += 1) {const n = e.sources[t];n.sources && (1 === n.state ? Oe(n) : 2 === n.state && Re(n));}}function je(e) {for (let t = 0; t < e.observers.length; t += 1) {const n = e.observers[t];n.state || (n.state = 2, n.observers && je(n));}}function Ne(e) {let t;if (e.sources) for (; e.sources.length;) {const t = e.sources.pop(),n = e.sourceSlots.pop(),i = t.observers;if (i && i.length) {const e = i.pop(),r = t.observerSlots.pop();n < i.length && (e.sourceSlots[r] = n, i[n] = e, t.observerSlots[n] = r);}}if (me && me.running && e.pure) {if (e.tOwned) {for (t = 0; t < e.tOwned.length; t++) Ne(e.tOwned[t]);delete e.tOwned;}qe(e, !0);} else if (e.owned) {for (t = 0; t < e.owned.length; t++) Ne(e.owned[t]);e.owned = null;}if (e.cleanups) {for (t = 0; t < e.cleanups.length; t++) e.cleanups[t]();e.cleanups = null;}e.state = 0, e.context = null;}function qe(e, t) {if (t || (e.state = 0, me.disposed.add(e)), e.owned) for (let t = 0; t < e.owned.length; t++) qe(e.owned[t]);}function We(e) {const t = se && He(de, se);if (!t) throw e;t.forEach(t => t(e));}function He(e, t) {return e && (e.context && e.context[t] || e.owner && He(e.owner, t));}function Ve(e) {if ("function" == typeof e && !e.length) return Ve(e());if (Array.isArray(e)) {const t = [];for (let n = 0; n < e.length; n++) {let i = Ve(e[n]);Array.isArray(i) ? t.push.apply(t, i) : t.push(i);}return t;}return e;}function Ue(e) {return function (t) {return Ee(() => (de.context = { [e]: t.value }, Se(() => t.children)));};}const Ze = Symbol("state-raw"),Ge = Symbol("state-node"),Ke = Symbol("state-proxy"),Ye = Symbol("state-name");function Xe(e, t) {let n = e[Ke];if (!n) {Object.defineProperty(e, Ke, { value: n = new Proxy(e, it) });let t = Object.keys(e),i = Object.getOwnPropertyDescriptors(e);for (let r = 0, s = t.length; r < s; r++) {const s = t[r];if (i[s].get) {const t = i[s].get.bind(n);Object.defineProperty(e, s, { get: t });}}}return n;}function Je(e) {return null != e && "object" == typeof e && (!e.__proto__ || e.__proto__ === Object.prototype || Array.isArray(e));}function Qe(e) {let t, n, i, r;if (t = null != e && e[Ze]) return t;if (!Je(e)) return e;if (Array.isArray(e)) {Object.isFrozen(e) && (e = e.slice(0));for (let t = 0, r = e.length; t < r; t++) i = e[t], (n = Qe(i)) !== i && (e[t] = n);} else {Object.isFrozen(e) && (e = Object.assign({}, e));let t = Object.keys(e),s = Object.getOwnPropertyDescriptors(e);for (let o = 0, u = t.length; o < u; o++) r = t[o], s[r].get || (i = e[r], (n = Qe(i)) !== i && (e[r] = n));}return e;}function et(e) {let t = e[Ge];return t || Object.defineProperty(e, Ge, { value: t = {} }), t;}function tt(e, t) {const n = Reflect.getOwnPropertyDescriptor(e, t);return !n || n.get || t === Ke || t === Ge || t === Ye || (delete n.value, delete n.writable, n.get = () => e[Ke][t]), n;}function nt() {const [e, t] = we();return e.set = t, e;}const it = { get: function (e, t, n) {if (t === Ze) return e;if (t === Ke) return n;const i = e[t];if (t === Ge || "__proto__" === t) return i;const r = Je(i);if (he && ("function" != typeof i || e.hasOwnProperty(t))) {let n, s;r && (n = et(i)) && (s = n._ || (n._ = nt()), s()), n = et(e), s = n[t] || (n[t] = nt()), s();}return r ? Xe(i) : i;}, set: function () {return !0;}, deleteProperty: function () {return !0;}, getOwnPropertyDescriptor: tt };function rt(e, t, n) {if (e[t] === n) return;const i = Array.isArray(e) || !(t in e);void 0 === n ? delete e[t] : e[t] = n;let r,s = et(e);(r = s[t]) && r.set(), i && (r = s._) && r.set();}function st(e, t, n = []) {let i,r = e;if (t.length > 1) {i = t.shift();const s = typeof i,o = Array.isArray(e);if (Array.isArray(i)) {for (let r = 0; r < i.length; r++) st(e, [i[r]].concat(t), [i[r]].concat(n));return;}if (o && "function" === s) {for (let r = 0; r < e.length; r++) i(e[r], r) && st(e, [r].concat(t), [r].concat(n));return;}if (o && "object" === s) {const { from: r = 0, to: s = e.length - 1, by: o = 1 } = i;for (let i = r; i <= s; i += o) st(e, [i].concat(t), [i].concat(n));return;}if (t.length > 1) return void st(e[i], t, [i].concat(n));r = e[i], n = [i].concat(n);}let s = t[0];"function" == typeof s && (s = s(r, n), s === r) || void 0 === i && null == s || (s = Qe(s), void 0 === i || Je(r) && Je(s) && !Array.isArray(s) ? function (e, t) {const n = Object.keys(t);for (let i = 0; i < n.length; i += 1) {const r = n[i];rt(e, r, t[r]);}}(r, s) : rt(e, i, s));}function ot(e, t) {const n = Qe(e || {});return [Xe(n), function (...e) {ke(() => st(n, e));}];}const ut = Symbol("fallback");function at(e, t) {if (ne.context) {const n = ne.context;ie({ ...ne.context, id: `${ne.context.id}${ne.context.count++}.`, count: 0 });const i = Ae(() => e(t));return ie(n), i;}return Ae(() => e(t));}function lt(e) {const t = "fallback" in e && { fallback: () => e.fallback };return Ee(function (e, t, n = {}) {let i = [],r = [],s = [],o = 0,u = t.length > 1 ? [] : null,a = de;return xe(() => {for (let e = 0, t = s.length; e < t; e++) s[e]();}), () => {let l,c,d = e() || [];return Ae(() => {let e,t,f,p,g,D,m,v,b,w = d.length;if (0 === w) {if (0 !== o) {for (l = 0; l < o; l++) s[l]();s = [], i = [], r = [], o = 0, u && (u = []);}n.fallback && (i = [ut], r[0] = be(e => (s[0] = e, n.fallback()), a), o = 1);} else if (0 === o) {for (c = 0; c < w; c++) i[c] = d[c], r[c] = be(h, a);o = w;} else {for (f = new Array(w), p = new Array(w), u && (g = new Array(w)), D = 0, m = Math.min(o, w); D < m && i[D] === d[D]; D++);for (m = o - 1, v = w - 1; m >= D && v >= D && i[m] === d[v]; m--, v--) f[v] = r[m], p[v] = s[m], u && (g[v] = u[m]);for (e = new Map(), t = new Array(v + 1), c = v; c >= D; c--) b = d[c], l = e.get(b), t[c] = void 0 === l ? -1 : l, e.set(b, c);for (l = D; l <= m; l++) b = i[l], c = e.get(b), void 0 !== c && -1 !== c ? (f[c] = r[l], p[c] = s[l], u && (g[c] = u[l]), c = t[c], e.set(b, c)) : s[l]();for (c = D; c < w; c++) c in f ? (r[c] = f[c], s[c] = p[c], u && (u[c] = g[c], u[c](c))) : r[c] = be(h, a);o = r.length = w, i = d.slice(0);}return r;});function h(e) {if (s[c] = e, u) {const [e, n] = we(c, !0);return u[c] = n, t(d[c], e);}return t(d[c]);}};}(() => e.each, e.children, t || void 0));}Be();new Set(["className", "indeterminate", "value", "allowfullscreen", "allowpaymentrequest", "async", "autofocus", "autoplay", "checked", "controls", "default", "disabled", "formnovalidate", "hidden", "ismap", "itemscope", "loop", "multiple", "muted", "nomodule", "novalidate", "open", "playsinline", "readonly", "required", "reversed", "seamless", "selected", "truespeed"]), new Set(["innerHTML", "textContent", "innerText", "children"]), new Set(["beforeinput", "click", "dblclick", "focusin", "focusout", "input", "keydown", "keyup", "mousedown", "mousemove", "mouseout", "mouseover", "mouseup", "pointerdown", "pointermove", "pointerout", "pointerover", "pointerup", "touchend", "touchmove", "touchstart"]), new Set(["altGlyph", "altGlyphDef", "altGlyphItem", "animate", "animateColor", "animateMotion", "animateTransform", "circle", "clipPath", "color-profile", "cursor", "defs", "desc", "ellipse", "feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence", "filter", "font", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignObject", "g", "glyph", "glyphRef", "hkern", "image", "line", "linearGradient", "marker", "mask", "metadata", "missing-glyph", "mpath", "path", "pattern", "polygon", "polyline", "radialGradient", "rect", "set", "stop", "svg", "switch", "symbol", "text", "textPath", "tref", "tspan", "use", "view", "vkern"]);function ct(e, t) {return Ee(e, void 0, t);}function dt(e, t, n) {let i = n.length,r = t.length,s = i,o = 0,u = 0,a = t[r - 1].nextSibling,l = null;for (; o < r || u < s;) if (r === o) {const t = s < i ? u ? n[u - 1].nextSibling : n[s - u] : a;for (; u < s;) e.insertBefore(n[u++], t);} else if (s === u) for (; o < r;) l && l.has(t[o]) || e.removeChild(t[o]), o++;else if (t[o] === n[u]) o++, u++;else if (t[r - 1] === n[s - 1]) r--, s--;else if (t[o] === n[s - 1] && n[u] === t[r - 1]) {const i = t[--r].nextSibling;e.insertBefore(n[u++], t[o++].nextSibling), e.insertBefore(n[--s], i), t[r] = n[s];} else {if (!l) {l = new Map();let e = u;for (; e < s;) l.set(n[e], e++);}const i = l.get(t[o]);if (null != i) {if (u < i && i < s) {let a,c = o,d = 1;for (; ++c < r && c < s && null != (a = l.get(t[c])) && a === i + d;) d++;if (d > i - u) {const r = t[o];for (; u < i;) e.insertBefore(n[u++], r);} else e.replaceChild(n[u++], t[o++]);} else o++;} else e.removeChild(t[o++]);}}const ht = Symbol("delegated-events");function ft(e, t, n) {let i;return be(r => {i = r, bt(t, e(), t.firstChild ? null : void 0, n);}), () => {i(), t.textContent = "";};}function pt(e, t, n) {const i = document.createElement("template");if (i.innerHTML = e, t && i.innerHTML.split("<").length - 1 !== t) throw `Template html does not match input:\n${i.innerHTML}\n\n${e}`;let r = i.content.firstChild;return n && (r = r.firstChild), r;}function gt(e) {const t = document[ht] || (document[ht] = new Set());for (let n = 0, i = e.length; n < i; n++) {const i = e[n];t.has(i) || (t.add(i), document.addEventListener(i, wt));}}function Dt(e, t, n) {null == n ? e.removeAttribute(t) : e.setAttribute(t, n);}function mt(e, t, n, i) {i ? Array.isArray(n) ? (e[`$$${t}`] = n[0], e[`$$${t}Data`] = n[1]) : e[`$$${t}`] = n : Array.isArray(n) ? e.addEventListener(t, e => n[0](n[1], e)) : e.addEventListener(t, n);}function vt(e, t, n = {}) {const i = e.style;if ("string" == typeof t) return i.cssText = t;let r, s;for (s in "string" == typeof n && (n = {}), n) null == t[s] && i.removeProperty(s), delete n[s];for (s in t) r = t[s], r !== n[s] && (i.setProperty(s, r), n[s] = r);return n;}function bt(e, t, n, i) {if (void 0 === n || i || (i = []), "function" != typeof t) return Ct(e, t, i, n);ye(i => Ct(e, t(), i, n), i);}function wt(e) {const t = `$$${e.type}`;let n = e.composedPath && e.composedPath()[0] || e.target;for (e.target !== n && Object.defineProperty(e, "target", { configurable: !0, value: n }), Object.defineProperty(e, "currentTarget", { configurable: !0, get: function () {return n;} }); null !== n;) {const i = n[t];if (i) {const r = n[`${t}Data`];if (void 0 !== r ? i(r, e) : i(e), e.cancelBubble) return;}n = n.host && n.host !== n && n.host instanceof Node ? n.host : n.parentNode;}}function Ct(e, t, n, i, r) {for (; "function" == typeof n;) n = n();if (t === n) return n;const s = typeof t,o = void 0 !== i;if (e = o && n[0] && n[0].parentNode || e, "string" === s || "number" === s) {if ("number" === s && (t = t.toString()), o) {let r = n[0];r && 3 === r.nodeType ? r.data = t : r = document.createTextNode(t), n = kt(e, n, i, r);} else n = "" !== n && "string" == typeof n ? e.firstChild.data = t : e.textContent = t;} else if (null == t || "boolean" === s) {if (ne.context) return n;n = kt(e, n, i);} else {if ("function" === s) return ye(() => {let r = t();for (; "function" == typeof r;) r = r();n = Ct(e, r, n, i);}), () => n;if (Array.isArray(t)) {const s = [];if (yt(s, t, r)) return ye(() => n = Ct(e, s, n, i, !0)), () => n;if (ne.context && n.length) return n;if (0 === s.length) {if (n = kt(e, n, i), o) return n;} else Array.isArray(n) ? 0 === n.length ? Et(e, s, i) : dt(e, n, s) : null == n || "" === n ? Et(e, s) : dt(e, o && n || [e.firstChild], s);n = s;} else if (t instanceof Node) {if (Array.isArray(n)) {if (o) return n = kt(e, n, i, t);kt(e, n, null, t);} else null != n && "" !== n && e.firstChild ? e.replaceChild(t, e.firstChild) : e.appendChild(t);n = t;} else console.warn("Skipped inserting", t);}return n;}function yt(e, t, n) {let i = !1;for (let r = 0, s = t.length; r < s; r++) {let s,o = t[r];if (o instanceof Node) e.push(o);else if (null == o || !0 === o || !1 === o) ;else if (Array.isArray(o)) i = yt(e, o) || i;else if ("string" == (s = typeof o)) e.push(document.createTextNode(o));else if ("function" === s) {if (n) {for (; "function" == typeof o;) o = o();i = yt(e, Array.isArray(o) ? o : [o]) || i;} else e.push(o), i = !0;} else e.push(document.createTextNode(o.toString()));}return i;}function Et(e, t, n) {for (let i = 0, r = t.length; i < r; i++) e.insertBefore(t[i], n);}function kt(e, t, n, i) {if (void 0 === n) return e.textContent = "";const r = i || document.createTextNode("");if (t.length) {let i = !1;for (let s = t.length - 1; s >= 0; s--) {const o = t[s];if (r !== o) {const t = o.parentNode === e;i || s ? t && e.removeChild(o) : t ? e.replaceChild(r, o) : e.insertBefore(r, n);} else i = !0;}} else e.insertBefore(r, n);return [r];}var At = {},Ft = pt;Object.defineProperty(At, "__esModule", { value: !0 });var xt = function (e) {const [t, n] = we(e.delegate.filteredMessages);Fe(() => {e.delegate.onDidChangeMessages(e => {n(e);});});const i = [{ id: "severity", label: "Severity" }, { id: "linterName", label: "Provider" }, { id: "excerpt", label: "Description", onClick: Vt, sortable: !1 }, { id: "line", label: "Line", onClick: Vt }];"Entire Project" === e.delegate.panelRepresents && i.push({ id: "file", label: "File", onClick: Vt });return (() => {const e = qt.cloneNode(!0);return Dt(e, "tabindex", -1), e.style.setProperty("overflowY", "scroll"), e.style.setProperty("height", "100%"), bt(e, at($t, { get rows() {return t();}, columns: i, defaultSortDirection: ["severity", "asc"], rowSorter: k.sortMessages, accessors: !0, getRowID: e => e.key, bodyRenderer: Ht, style: { width: "100%" }, className: "linter dark" })), e;})();};At.PanelComponent = xt;const Bt = pt("<table><thead><tr></tr></thead><tbody></tbody></table>", 8),St = pt("<th></th>", 2),Pt = pt("<tr></tr>", 2),_t = pt("<td></td>", 2),Tt = pt('<span class="sort-icon"></span>', 2);function $t(e) {var t;const [n, i] = we(),[r, s] = we(e.rows);function o() {const t = n();return void 0 !== t ? t : void 0 !== e.defaultSortDirection ? e.defaultSortDirection : [null, null];}Ce(() => {s(e.rows);});const u = null !== (t = e.rowSorter) && void 0 !== t ? t : Nt;function a() {const t = o();null === t[0] && void 0 !== e.defaultSortDirection ? s(u(r(), e.defaultSortDirection)) : null !== t[0] && s(u(r(), t));}const { headerRenderer: l = zt, bodyRenderer: c = Rt, getRowID: d = jt, accessors: h } = e;return void 0 === e.columns && (e.columns = function (e, t = 0) {const n = e[t],i = Object.keys(n),r = i.length,s = new Array(r);for (let e = 0; e < r; e++) s[e] = { id: i[e] };return s;}(e.rows, e.representitiveRowNumber)), a(), (() => {const t = Bt.cloneNode(!0),n = t.firstChild,s = n.firstChild,u = n.nextSibling;return bt(s, at(lt, { get each() {return e.columns;}, children: e => {const t = !1 !== e.sortable;return (() => {const n = St.cloneNode(!0);var r;return mt(n, "click", t ? (r = e.id, e => {i(function (e, t, n) {let i;return i = n ? [null, null] : e[0] === t ? [e[0], "asc" === e[1] ? "desc" : "asc"] : [t, "asc"], i;}(o(), r, e.shiftKey)), a();}) : void 0, !0), n.className = t ? "sortable" : void 0, bt(n, () => l(e), null), bt(n, () => t ? function (e, t) {let n;return n = null === e[0] || e[0] !== t ? Lt : "asc" === e[1] ? Ot : Mt, (() => {const e = Tt.cloneNode(!0);return bt(e, n), e;})();}(o(), e.id) : void 0, null), ye(() => Dt(n, "id", h ? String(e.id) : void 0)), n;})();} })), bt(u, at(lt, { get each() {return r();}, children: t => {const n = function (e) {return h ? d(e) : void 0;}(t);return (() => {const i = Pt.cloneNode(!0);return Dt(i, "id", n), bt(i, at(lt, { get each() {return e.columns;}, children: e => (() => {const i = _t.cloneNode(!0);return mt(i, "click", void 0 !== e.onClick ? n => e.onClick(n, t) : void 0, !0), bt(i, () => c(t, e.id)), ye(() => Dt(i, "id", n ? `${n}.${e.id}` : void 0)), i;})() })), i;})();} })), ye(n => {var i;const r = `solid-simple-table ${null !== (i = e.className) && void 0 !== i ? i : ""}`,s = e.style;return r !== n._v$ && (t.className = n._v$ = r), n._v$2 = vt(t, s, n._v$2), n;}, { _v$: void 0, _v$2: void 0 }), t;})();}const Mt = "↑",Ot = "↓",Lt = "⇅";function It(e) {return "string" == typeof e ? e : JSON.stringify(e);}function zt(e) {var t;return null !== (t = e.label) && void 0 !== t ? t : e.id;}function Rt(e, t) {return It("object" == typeof e ? e[t] : e);}function jt(e) {return It(e);}function Nt(e, t) {if (!e.length) return e;let n;const i = t[0];return n = "object" == typeof e[0] ? e.sort((e, t) => {const n = e[i],r = t[i];return n === r ? 0 : n < r ? -1 : 1;}) : e.sort(), "desc" === t[1] ? n.reverse() : n;}gt(["click"]);const qt = Ft('<div id="linter-panel"></div>', 2),Wt = Ft("<div></div>", 2);function Ht(e, t) {const n = (0, k.$range)(e);switch (t) {case "file":return (0, k.getPathOfMessage)(e);case "line":return n ? `${n.start.row + 1}:${n.start.column + 1}` : "";case "excerpt":return e.excerpt;case "severity":return (() => {const t = Wt.cloneNode(!0);return bt(t, () => k.severityNames[e.severity]), ye(() => t.className = `solid-simple-table linter ${e.severity}`), t;})();default:return e[t];}}function Vt(e, t) {"A" !== e.target.tagName && (("darwin" === process.platform ? e.metaKey : e.ctrlKey) ? e.shiftKey ? (0, k.openExternally)(t) : (0, k.visitMessage)(t, !0) : (0, k.visitMessage)(t));}function Ut(e) {const t = atom.workspace.paneContainerForItem(e);return t && "object" == typeof t.state && "number" == typeof t.state.size && "function" == typeof t.render ? t : null;}te = class {constructor(e) {this.element = document.createElement("div"), this.subscriptions = new a(), this.panelHeight = 100, this.alwaysTakeMinimumSpace = !0, this.lastSetPaneHeight = void 0, this.subscriptions.add(atom.config.observe("linter-ui-default.panelHeight", e => {const t = "number" == typeof this.panelHeight;this.panelHeight = e, t && this.doPanelResize(!0);}), atom.config.observe("linter-ui-default.alwaysTakeMinimumSpace", e => {this.alwaysTakeMinimumSpace = e;})), this.doPanelResize(), ft(() => at(At.PanelComponent, { delegate: e }), this.element);}doPanelResize(e = !1) {const t = Ut(this);if (null === t) return;let n = null;const i = atom.views.getView(t);if (i && this.alwaysTakeMinimumSpace) {const e = i.querySelector(".list-inline.tab-bar.inset-panel"),t = e ? e.getClientRects()[0] : null,r = this.element.querySelector("table"),s = r ? r.getClientRects()[0] : null;t && s && (n = t.height + s.height + 1);}let r = null;const s = null === n || e ? this.panelHeight : Math.min(n, this.panelHeight);null === this.lastSetPaneHeight || t.state.size === this.lastSetPaneHeight || e || (r = t.state.size), this.lastSetPaneHeight = s, t.state.size = s, t.render(t.state), null !== r && atom.config.set("linter-ui-default.panelHeight", r);}getURI() {return k.WORKSPACE_URI;}getTitle() {return "Linter";}getDefaultLocation() {return k.DOCK_DEFAULT_LOCATION;}getAllowedLocations() {return k.DOCK_ALLOWED_LOCATIONS;}getPreferredHeight() {return atom.config.get("linter-ui-default.panelHeight");}dispose() {this.subscriptions.dispose();const e = Ut(this);var t;null === e || this.alwaysTakeMinimumSpace || e.state.size === this.panelHeight || (atom.config.set("linter-ui-default.panelHeight", e.state.size), null === (t = e.paneForItem(this)) || void 0 === t || t.destroyItem(this, !0));}}, ee.default = te;var Zt = Gt(ee = ee.default);function Gt(e) {return e && e.__esModule ? e : { default: e };}C = class {constructor() {this.panel = null, this.element = document.createElement("div"), this.delegate = new Q.default(), this.messages = [], this.deactivating = !1, this.subscriptions = new a(), this.showPanelConfig = !0, this.hidePanelWhenEmpty = !0, this.showPanelStateMessages = !1, this.activationTimer = void 0, this.subscriptions.add(this.delegate, atom.config.observe("linter-ui-default.hidePanelWhenEmpty", e => {this.hidePanelWhenEmpty = e, this.refresh();}), atom.workspace.onDidDestroyPane(({ pane: e }) => {(null === this.panel || e.getItems().includes(this.panel)) && !this.deactivating && (this.panel = null, atom.config.set("linter-ui-default.showPanel", !1));}), atom.workspace.onDidDestroyPaneItem(({ item: e }) => {e instanceof Zt.default && !this.deactivating && (this.panel = null, atom.config.set("linter-ui-default.showPanel", !1));}), atom.config.observe("linter-ui-default.showPanel", e => {this.showPanelConfig = e, this.refresh();}), atom.workspace.getCenter().observeActivePaneItem(() => {this.showPanelStateMessages = Boolean(this.delegate.filteredMessages.length), this.refresh();})), this.activationTimer = window.requestIdleCallback(() => {let e = !0;const t = atom.workspace.getBottomDock();this.subscriptions.add(t.onDidChangeActivePaneItem(t => {if (!this.panel || "bottom" !== this.getPanelLocation()) return;if (e) return void (e = !1);t === this.panel !== this.showPanelConfig && atom.config.set("linter-ui-default.showPanel", !this.showPanelConfig);}), t.onDidChangeVisible(e => {if (!this.panel || "bottom" !== this.getPanelLocation()) return;if (!e && this.showPanelConfig && this.hidePanelWhenEmpty && !this.showPanelStateMessages) return;if (t.getActivePaneItem() !== this.panel) return;e !== this.showPanelConfig && atom.config.set("linter-ui-default.showPanel", !this.showPanelConfig);})), this.activate();});}getPanelLocation() {if (!this.panel) return null;const e = atom.workspace.paneContainerForItem(this.panel);return e && e.location || null;}async activate() {this.panel || (this.panel = new Zt.default(this.delegate), await atom.workspace.open(this.panel, { activatePane: !1, activateItem: !1, searchAllPanes: !0 }), this.update(), this.refresh());}update(e = null) {e && (this.messages = e), this.delegate.update(this.messages), this.showPanelStateMessages = Boolean(this.delegate.filteredMessages.length), this.refresh();}async refresh() {const e = this.panel;if (null === e) return void (this.showPanelConfig && (await this.activate()));const t = atom.workspace.paneContainerForItem(e);if (!t || "bottom" !== t.location) return;const n = t.getActivePaneItem() === e,i = this.showPanelConfig,r = !this.hidePanelWhenEmpty || this.showPanelStateMessages;if (i && r) {var s;if (!n) null === (s = t.paneForItem(e)) || void 0 === s || s.activateItem(e);t.show(), e.doPanelResize();} else n && t.hide();}dispose() {this.deactivating = !0, this.panel && this.panel.dispose(), this.subscriptions.dispose(), window.cancelIdleCallback(this.activationTimer);}}, w.default = C;var Kt = gr(w = w.default),Yt = {};Object.defineProperty(Yt, "__esModule", { value: !0 });var Xt = void 0;Yt.default = Xt;var Jt,Qt = (Jt = s) && Jt.__esModule ? Jt : { default: Jt };Xt = class {constructor() {this.messages = [], this.subscriptions = new a(), this.subscriptions.add(atom.commands.add("atom-workspace", { "linter-ui-default:next": () => this.move(!0, !0), "linter-ui-default:previous": () => this.move(!1, !0), "linter-ui-default:next-error": () => this.move(!0, !0, "error"), "linter-ui-default:previous-error": () => this.move(!1, !0, "error"), "linter-ui-default:next-warning": () => this.move(!0, !0, "warning"), "linter-ui-default:previous-warning": () => this.move(!1, !0, "warning"), "linter-ui-default:next-info": () => this.move(!0, !0, "info"), "linter-ui-default:previous-info": () => this.move(!1, !0, "info"), "linter-ui-default:next-in-current-file": () => this.move(!0, !1), "linter-ui-default:previous-in-current-file": () => this.move(!1, !1), "linter-ui-default:next-error-in-current-file": () => this.move(!0, !1, "error"), "linter-ui-default:previous-error-in-current-file": () => this.move(!1, !1, "error"), "linter-ui-default:next-warning-in-current-file": () => this.move(!0, !1, "warning"), "linter-ui-default:previous-warning-in-current-file": () => this.move(!1, !1, "warning"), "linter-ui-default:next-info-in-current-file": () => this.move(!0, !1, "info"), "linter-ui-default:previous-info-in-current-file": () => this.move(!1, !1, "info"), "linter-ui-default:toggle-panel": () => {atom.config.set("linter-ui-default.showPanel", !atom.config.get("linter-ui-default.showPanel"));}, "linter-ui-default:expand-tooltip": function () {}, "linter-ui-default:collapse-tooltip": function () {} }), atom.commands.add("atom-text-editor:not([mini])", { "linter-ui-default:apply-all-solutions": () => this.applyAllSolutions() }), atom.commands.add("#linter-panel", { "core:copy": () => {const e = document.getSelection();e && atom.clipboard.write(e.toString());} }));}applyAllSolutions() {const e = (0, k.getActiveTextEditor)();(0, Qt.default)(e, "textEditor was null on a command supposed to run on text-editors only");(0, k.sortMessages)((0, k.filterMessages)(this.messages, e.getPath()), ["line", "desc"]).forEach(function (t) {2 === t.version && t.solutions && t.solutions.length && (0, k.applySolution)(e, (0, k.sortSolutions)(t.solutions)[0]);});}move(e, t, n = null) {const i = (0, k.getActiveTextEditor)(),r = i && i.getPath() || NaN,s = (0, k.sortMessages)((0, k.filterMessages)(this.messages, t ? null : r, n), ["file", "asc"]),o = e ? -1 : 1;if (!i) {const t = e ? s[0] : s[s.length - 1];return void (t && (0, k.visitMessage)(t));}const u = i.getCursorBufferPosition();e || s.reverse();let a = null,l = !1;for (let e = 0, t = s.length; e < t; e++) {const t = s[e],n = (0, k.$file)(t),i = (0, k.$range)(t);if (l || n !== r || (l = !0), n && i) {if (l && n !== r) {a = t;break;}if (n === r && u.compare(i.start) === o) {a = t;break;}}}!a && s.length && (a = s[0]), a && (0, k.visitMessage)(a);}update(e) {this.messages = e;}dispose() {this.subscriptions.dispose();}}, Yt.default = Xt;var en = gr(Yt = Yt.default),tn = {};Object.defineProperty(tn, "__esModule", { value: !0 });var nn = void 0;tn.default = nn;var rn = {};Object.defineProperty(rn, "__esModule", { value: !0 });var sn = void 0;rn.default = sn;var on = {};Object.defineProperty(on, "__esModule", { value: !0 });var un = function (e) {const t = document.createElement("a");return t.classList.add(`icon-${e}`), t.appendChild(document.createTextNode("")), t;};on.getElement = un;var an = function (e) {if (e && e.__esModule) return e;if (null === e || "object" != typeof e && "function" != typeof e) return { default: e };var t = ln();if (t && t.has(e)) return t.get(e);var n = {},i = Object.defineProperty && Object.getOwnPropertyDescriptor;for (var r in e) if (Object.prototype.hasOwnProperty.call(e, r)) {var s = i ? Object.getOwnPropertyDescriptor(e, r) : null;s && (s.get || s.set) ? Object.defineProperty(n, r, s) : n[r] = e[r];}n.default = e, t && t.set(e, n);return n;}(on);function ln() {if ("function" != typeof WeakMap) return null;var e = new WeakMap();return ln = function () {return e;}, e;}sn = class {constructor() {this.item = document.createElement("div"), this.itemErrors = an.getElement("stop"), this.itemWarnings = an.getElement("alert"), this.itemInfos = an.getElement("info"), this.emitter = new l(), this.subscriptions = new a(), this.item.appendChild(this.itemErrors), this.item.appendChild(this.itemWarnings), this.item.appendChild(this.itemInfos), this.item.classList.add("inline-block"), this.item.classList.add("linter-status-count"), this.subscriptions.add(this.emitter, atom.tooltips.add(this.itemErrors, { title: "Linter Errors" }), atom.tooltips.add(this.itemWarnings, { title: "Linter Warnings" }), atom.tooltips.add(this.itemInfos, { title: "Linter Infos" })), this.itemErrors.onclick = () => this.emitter.emit("click", "error"), this.itemWarnings.onclick = () => this.emitter.emit("click", "warning"), this.itemInfos.onclick = () => this.emitter.emit("click", "info"), this.update(0, 0, 0);}setVisibility(e, t) {t ? this.item.classList.remove(`hide-${e}`) : this.item.classList.add(`hide-${e}`);}update(e, t, n) {this.itemErrors.childNodes[0].textContent = String(e), this.itemWarnings.childNodes[0].textContent = String(t), this.itemInfos.childNodes[0].textContent = String(n), e ? this.itemErrors.classList.add("text-error") : this.itemErrors.classList.remove("text-error"), t ? this.itemWarnings.classList.add("text-warning") : this.itemWarnings.classList.remove("text-warning"), n ? this.itemInfos.classList.add("text-info") : this.itemInfos.classList.remove("text-info");}onDidClick(e) {return this.emitter.on("click", e);}dispose() {this.subscriptions.dispose();}}, rn.default = sn;var cn = function (e) {return e && e.__esModule ? e : { default: e };}(rn = rn.default);nn = class {constructor() {this.element = new cn.default(), this.messages = [], this.subscriptions = new a(), this.statusBarRepresents = void 0, this.statusBarClickBehavior = void 0, this.subscriptions.add(this.element, atom.config.observe("linter-ui-default.statusBarRepresents", e => {const t = void 0 !== this.statusBarRepresents;this.statusBarRepresents = e, t && this.update();}), atom.config.observe("linter-ui-default.statusBarClickBehavior", e => {const t = void 0 !== this.statusBarClickBehavior;this.statusBarClickBehavior = e, t && this.update();}), atom.config.observe("linter-ui-default.showStatusBar", e => {this.element.setVisibility("config", e);}), atom.workspace.getCenter().observeActivePaneItem(e => {const t = atom.workspace.isTextEditor(e);this.element.setVisibility("pane", t), t && "Current File" === this.statusBarRepresents && this.update();})), this.element.onDidClick(e => {const t = atom.views.getView(atom.workspace);if ("Toggle Panel" === this.statusBarClickBehavior) atom.commands.dispatch(t, "linter-ui-default:toggle-panel");else if ("Toggle Status Bar Scope" === this.statusBarClickBehavior) atom.config.set("linter-ui-default.statusBarRepresents", "Entire Project" === this.statusBarRepresents ? "Current File" : "Entire Project");else {const n = "Current File" === this.statusBarRepresents ? "-in-current-file" : "";atom.commands.dispatch(t, `linter-ui-default:next-${e}${n}`);}});}update(e = null) {e ? this.messages = e : e = this.messages;const t = { error: 0, warning: 0, info: 0 },n = (0, k.getActiveTextEditor)(),i = n && n.getPath() || NaN;e.forEach(e => {"Entire Project" !== this.statusBarRepresents && (0, k.$file)(e) !== i || ("error" === e.severity ? t.error++ : "warning" === e.severity ? t.warning++ : t.info++);}), this.element.update(t.error, t.warning, t.info);}attach(e) {let t = null;this.subscriptions.add(atom.config.observe("linter-ui-default.statusBarPosition", n => {t && t.destroy(), t = e[`add${n}Tile`]({ item: this.element.item, priority: "Left" === n ? 0 : 1e3 });})), this.subscriptions.add(new c(function () {t && t.destroy();}));}dispose() {this.subscriptions.dispose();}}, tn.default = nn;var dn = gr(tn = tn.default),hn = {};Object.defineProperty(hn, "__esModule", { value: !0 });var fn = void 0;hn.default = fn;fn = class {constructor() {this.provider = void 0, this.executing = new Set(), this.providerTitles = new Set(), this.useBusySignal = !0, this.subscriptions = new a(), this.subscriptions.add(atom.config.observe("linter-ui-default.useBusySignal", e => {this.useBusySignal = e;}));}attach(e) {this.provider = e.create(), this.update();}update() {const e = this.provider;if (!e) return;if (!this.useBusySignal) return;const t = new Map(),n = new Set();for (const { filePath: e, linter: n } of this.executing) {let i = t.get(e);i || t.set(e, i = []), i.push(n.name);}for (const [i, r] of t) {const t = i ? ` on ${atom.project.relativizePath(i)[1]}` : "";r.forEach(i => {const r = `${i}${t}`;n.add(r), this.providerTitles.has(r) || (this.providerTitles.add(r), e.add(r));});}this.providerTitles.forEach(t => {n.has(t) || (e.remove(t), this.providerTitles.delete(t));}), t.clear();}getExecuting(e, t) {for (const n of this.executing) if (n.linter === e && n.filePath === t) return n;return null;}didBeginLinting(e, t) {this.getExecuting(e, t) || (this.executing.add({ linter: e, filePath: t }), this.update());}didFinishLinting(e, t) {const n = this.getExecuting(e, t);n && (this.executing.delete(n), this.update());}dispose() {this.provider && this.provider.clear(), this.providerTitles.clear(), this.executing.clear(), this.subscriptions.dispose();}}, hn.default = fn;var pn = gr(hn = hn.default),gn = {};Object.defineProperty(gn, "__esModule", { value: !0 });var Dn = void 0;gn.default = Dn;Dn = class {constructor() {this.messages = [], this.grammarScopes = ["*"];}getIntentions({ textEditor: e, bufferPosition: t }) {let n = [];const i = (0, k.filterMessages)(this.messages, e.getPath());for (const r of i) {if (!(r.solutions && r.solutions.length)) continue;const i = (0, k.$range)(r);if (!(i && i.containsPoint(t))) continue;let s = [];2 === r.version && r.solutions && r.solutions.length && (s = r.solutions);const o = r.linterName || "Linter";n = n.concat(s.map(t => ({ priority: t.priority ? t.priority + 200 : 200, icon: "tools", title: t.title || `Fix ${o} issue`, selected: function () {(0, k.applySolution)(e, t);} })));}return n;}update(e) {this.messages = e;}}, gn.default = Dn;var mn = gr(gn = gn.default),vn = {};Object.defineProperty(vn, "__esModule", { value: !0 });var bn = void 0;vn.default = bn;var wn = {};Object.defineProperty(wn, "__esModule", { value: !0 });var Cn = void 0;wn.default = Cn;var yn, En;En = function (e) {var t = typeof e;return null != e && ("object" == t || "function" == t);};var kn,An = {},Fn = "object" == typeof e && e && e.Object === Object && e,xn = "object" == typeof self && self && self.Object === Object && self,Bn = Fn || xn || Function("return this")();kn = function () {return An.Date.now();};var Sn,Pn = /\s/;var _n = function (e) {for (var t = e.length; t-- && Pn.test(e.charAt(t)););return t;},Tn = /^\s+/;Sn = function (e) {return e ? e.slice(0, _n(e) + 1).replace(Tn, "") : e;};var $n,Mn,On = $n = (An = Bn).Symbol,Ln = Object.prototype,In = Ln.hasOwnProperty,zn = Ln.toString,Rn = On ? On.toStringTag : void 0;Mn = function (e) {var t = In.call(e, Rn),n = e[Rn];try {e[Rn] = void 0;var i = !0;} catch (e) {}var r = zn.call(e);return i && (t ? e[Rn] = n : delete e[Rn]), r;};var jn = Object.prototype.toString;var Nn = Mn,qn = function (e) {return jn.call(e);},Wn = $n ? $n.toStringTag : void 0;var Hn = function (e) {return null == e ? void 0 === e ? "[object Undefined]" : "[object Null]" : Wn && Wn in Object(e) ? Nn(e) : qn(e);},Vn = function (e) {return null != e && "object" == typeof e;};var Un = Sn,Zn = En,Gn = function (e) {return "symbol" == typeof e || Vn(e) && "[object Symbol]" == Hn(e);},Kn = /^[-+]0x[0-9a-f]+$/i,Yn = /^0b[01]+$/i,Xn = /^0o[0-7]+$/i,Jn = parseInt;var Qn = En,ei = kn,ti = function (e) {if ("number" == typeof e) return e;if (Gn(e)) return NaN;if (Zn(e)) {var t = "function" == typeof e.valueOf ? e.valueOf() : e;e = Zn(t) ? t + "" : t;}if ("string" != typeof e) return 0 === e ? e : +e;e = Un(e);var n = Yn.test(e);return n || Xn.test(e) ? Jn(e.slice(2), n ? 2 : 8) : Kn.test(e) ? NaN : +e;},ni = Math.max,ii = Math.min;var ri = Yi(yn = function (e, t, n) {var i,r,s,o,u,a,l = 0,c = !1,d = !1,h = !0;if ("function" != typeof e) throw new TypeError("Expected a function");function f(t) {var n = i,s = r;return i = r = void 0, l = t, o = e.apply(s, n);}function p(e) {return l = e, u = setTimeout(D, t), c ? f(e) : o;}function g(e) {var n = e - a;return void 0 === a || n >= t || n < 0 || d && e - l >= s;}function D() {var e = ei();if (g(e)) return m(e);u = setTimeout(D, function (e) {var n = t - (e - a);return d ? ii(n, s - (e - l)) : n;}(e));}function m(e) {return u = void 0, h && i ? f(e) : (i = r = void 0, o);}function v() {var e = ei(),n = g(e);if (i = arguments, r = this, a = e, n) {if (void 0 === u) return p(a);if (d) return clearTimeout(u), u = setTimeout(D, t), f(a);}return void 0 === u && (u = setTimeout(D, t)), o;}return t = ti(t) || 0, Qn(n) && (c = !!n.leading, s = (d = "maxWait" in n) ? ni(ti(n.maxWait) || 0, t) : s, h = "trailing" in n ? !!n.trailing : h), v.cancel = function () {void 0 !== u && clearTimeout(u), l = 0, i = a = r = u = void 0;}, v.flush = function () {return void 0 === u ? o : m(ei());}, v;}),si = Yi(r),oi = {},ui = pt;Object.defineProperty(oi, "__esModule", { value: !0 });var ai = void 0;oi.default = ai;var li = {};Object.defineProperty(li, "__esModule", { value: !0 });var ci = void 0;li.default = ci;ci = class {constructor() {this.emitter = new l(), this.expanded = !1, this.subscriptions = new a(), this.showProviderName = void 0, this.subscriptions.add(this.emitter, atom.config.observe("linter-ui-default.showProviderName", e => {const t = void 0 !== this.showProviderName;this.showProviderName = e, t && this.emitter.emit("should-update");}), atom.commands.add("atom-workspace", { "linter-ui-default:expand-tooltip": e => {var t;this.expanded || (this.expanded = !0, this.emitter.emit("should-expand"), null != e && null !== (t = e.originalEvent) && void 0 !== t && t.isTrusted && document.body.addEventListener("keyup", function e() {document.body.removeEventListener("keyup", e), atom.commands.dispatch(atom.views.getView(atom.workspace), "linter-ui-default:collapse-tooltip");}, { passive: !0 }));}, "linter-ui-default:collapse-tooltip": () => {this.expanded = !1, this.emitter.emit("should-collapse");} }));}onShouldUpdate(e) {return this.emitter.on("should-update", e);}onShouldExpand(e) {return this.emitter.on("should-expand", e);}onShouldCollapse(e) {return this.emitter.on("should-collapse", e);}dispose() {this.emitter.dispose();}}, li.default = ci;var di = Hi(li = li.default),hi = {},fi = pt,pi = gt;Object.defineProperty(hi, "__esModule", { value: !0 });var gi = function (e) {const [t, n] = ot({ description: "", descriptionShow: !1 }),[i, r] = we(!1);async function s(o = null) {const u = !t.descriptionShow,a = t.description || e.message.description;if (u || o) {if ("string" == typeof a || o) {const e = (0, vi.default)(o || a);n({ description: e, descriptionShow: !0 });} else if ("function" == typeof a) {if (n({ ...t, descriptionShow: !0 }), i()) return;r(!0);const e = await a();if ("string" != typeof e) throw new Error("Expected result to be string, got: " + typeof e);try {await s(e);} catch (e) {console.log("[Linter] Error getting descriptions", e), r(!1), t.descriptionShow && (await s());}} else console.error("[Linter] Invalid description detected, expected string or function but got:", typeof a);} else n({ ...t, descriptionShow: !1 });}Fe(() => {e.delegate.onShouldUpdate(() => {n({ description: "", descriptionShow: !1 });}), e.delegate.onShouldExpand(async () => {t.descriptionShow || (await s());}), e.delegate.onShouldCollapse(async () => {t.descriptionShow && (await s());});});const { message: o, delegate: u } = e;return (() => {const e = ki.cloneNode(!0),n = e.firstChild,i = n.firstChild,r = i.firstChild,a = i.nextSibling;return e.$$click = Pi, bt(n, (() => {const e = ct(() => !!o.description, !0);return () => e() && (() => {const e = Ai.cloneNode(!0),n = e.firstChild;return e.$$click = () => s(), ye(() => n.className = "icon linter-icon icon-" + (t.descriptionShow ? "chevron-down" : "chevron-right")), e;})();})(), i), bt(n, (() => {const e = ct(() => !!function (e) {if (2 === e.version && e.solutions && e.solutions.length) return !0;return !1;}(o), !0);return () => e() && at(bi.FixButton, { onClick: () => function (e) {const t = (0, k.getActiveTextEditor)();null !== t && 2 === e.version && e.solutions && e.solutions.length && (0, k.applySolution)(t, (0, k.sortSolutions)(e.solutions)[0]);}(o) });})(), i), bt(r, () => u.showProviderName ? `${o.linterName}: ` : ""), bt(i, () => o.excerpt, null), bt(a, (() => {const e = ct(() => !(!o.reference || !o.reference.file), !0);return () => e() && (() => {const e = Fi.cloneNode(!0);return e.$$click = () => (0, k.visitMessage)(o, !0), e;})();})(), null), bt(a, (() => {const e = ct(() => !!o.url, !0);return () => e() && (() => {const e = xi.cloneNode(!0);return e.$$click = () => (0, k.openExternally)(o), e;})();})(), null), bt(e, (() => {const e = ct(() => !!t.descriptionShow, !0);return () => e() && (() => {const e = Bi.cloneNode(!0);return ye(() => e.innerHTML = t.description || "Loading..."), e;})();})(), null), ye(() => n.className = `linter-excerpt ${o.severity}`), e;})();};hi.default = gi;var Di = function (e) {if (e && e.__esModule) return e;if (null === e || "object" != typeof e && "function" != typeof e) return { default: e };var t = Si();if (t && t.has(e)) return t.get(e);var n = {},i = Object.defineProperty && Object.getOwnPropertyDescriptor;for (var r in e) if (Object.prototype.hasOwnProperty.call(e, r)) {var s = i ? Object.getOwnPropertyDescriptor(e, r) : null;s && (s.get || s.set) ? Object.defineProperty(n, r, s) : n[r] = e[r];}n.default = e, t && t.set(e, n);return n;}(i),mi = {};!function (e, t) {"object" == typeof mi ? mi = t() : "function" == typeof define && define.amd ? define(t) : (e = "undefined" != typeof globalThis ? globalThis : e || self).marked = t();}(mi, function () {function e(e, t) {for (var n = 0; n < t.length; n++) {var i = t[n];i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);}}function t(e, t) {(null == t || t > e.length) && (t = e.length);for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];return i;}function n(e, n) {var i;if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {if (Array.isArray(e) || (i = function (e, n) {if (e) {if ("string" == typeof e) return t(e, n);var i = Object.prototype.toString.call(e).slice(8, -1);return "Object" === i && e.constructor && (i = e.constructor.name), "Map" === i || "Set" === i ? Array.from(e) : "Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i) ? t(e, n) : void 0;}}(e)) || n && e && "number" == typeof e.length) {i && (e = i);var r = 0;return function () {return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}return (i = e[Symbol.iterator]()).next.bind(i);}var i,r = (function (e) {function t() {return { baseUrl: null, breaks: !1, gfm: !0, headerIds: !0, headerPrefix: "", highlight: null, langPrefix: "language-", mangle: !0, pedantic: !1, renderer: null, sanitize: !1, sanitizer: null, silent: !1, smartLists: !1, smartypants: !1, tokenizer: null, walkTokens: null, xhtml: !1 };}e.exports = { defaults: { baseUrl: null, breaks: !1, gfm: !0, headerIds: !0, headerPrefix: "", highlight: null, langPrefix: "language-", mangle: !0, pedantic: !1, renderer: null, sanitize: !1, sanitizer: null, silent: !1, smartLists: !1, smartypants: !1, tokenizer: null, walkTokens: null, xhtml: !1 }, getDefaults: t, changeDefaults: function (t) {e.exports.defaults = t;} };}(i = { exports: {} }, i.exports), i.exports),s = /[&<>"']/,o = /[&<>"']/g,u = /[<>"']|&(?!#?\w+;)/,a = /[<>"']|&(?!#?\w+;)/g,l = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" },c = function (e) {return l[e];};var d = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(e) {return e.replace(d, function (e, t) {return "colon" === (t = t.toLowerCase()) ? ":" : "#" === t.charAt(0) ? "x" === t.charAt(1) ? String.fromCharCode(parseInt(t.substring(2), 16)) : String.fromCharCode(+t.substring(1)) : "";});}var f = /(^|[^\[])\^/g;var p = /[^\w:]/g,g = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var D = {},m = /^[^:]+:\/*[^/]*$/,v = /^([^:]+:)[\s\S]*$/,b = /^([^:]+:\/*[^/]*)[\s\S]*$/;function w(e, t) {D[" " + e] || (m.test(e) ? D[" " + e] = e + "/" : D[" " + e] = C(e, "/", !0));var n = -1 === (e = D[" " + e]).indexOf(":");return "//" === t.substring(0, 2) ? n ? t : e.replace(v, "$1") + t : "/" === t.charAt(0) ? n ? t : e.replace(b, "$1") + t : e + t;}function C(e, t, n) {var i = e.length;if (0 === i) return "";for (var r = 0; r < i;) {var s = e.charAt(i - r - 1);if (s !== t || n) {if (s === t || !n) break;r++;} else r++;}return e.substr(0, i - r);}var y = function (e, t) {if (t) {if (s.test(e)) return e.replace(o, c);} else if (u.test(e)) return e.replace(a, c);return e;},E = h,k = function (e, t) {e = e.source || e, t = t || "";var n = { replace: function (t, i) {return i = (i = i.source || i).replace(f, "$1"), e = e.replace(t, i), n;}, getRegex: function () {return new RegExp(e, t);} };return n;},A = function (e, t, n) {if (e) {var i;try {i = decodeURIComponent(h(n)).replace(p, "").toLowerCase();} catch (e) {return null;}if (0 === i.indexOf("javascript:") || 0 === i.indexOf("vbscript:") || 0 === i.indexOf("data:")) return null;}t && !g.test(n) && (n = w(t, n));try {n = encodeURI(n).replace(/%25/g, "%");} catch (e) {return null;}return n;},F = { exec: function () {} },x = function (e) {for (var t, n, i = 1; i < arguments.length; i++) for (n in t = arguments[i]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);return e;},B = function (e, t) {var n = e.replace(/\|/g, function (e, t, n) {for (var i = !1, r = t; --r >= 0 && "\\" === n[r];) i = !i;return i ? "|" : " |";}).split(/ \|/),i = 0;if (n.length > t) n.splice(t);else for (; n.length < t;) n.push("");for (; i < n.length; i++) n[i] = n[i].trim().replace(/\\\|/g, "|");return n;},S = C,P = function (e, t) {if (-1 === e.indexOf(t[1])) return -1;for (var n = e.length, i = 0, r = 0; r < n; r++) if ("\\" === e[r]) r++;else if (e[r] === t[0]) i++;else if (e[r] === t[1] && --i < 0) return r;return -1;},_ = function (e) {e && e.sanitize && !e.silent && console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options");},T = function (e, t) {if (t < 1) return "";for (var n = ""; t > 1;) 1 & t && (n += e), t >>= 1, e += e;return n + e;},$ = r.defaults,M = S,O = B,L = y,I = P;function z(e, t, n) {var i = t.href,r = t.title ? L(t.title) : null,s = e[1].replace(/\\([\[\]])/g, "$1");return "!" !== e[0].charAt(0) ? { type: "link", raw: n, href: i, title: r, text: s } : { type: "image", raw: n, href: i, title: r, text: L(s) };}var R = function () {function e(e) {this.options = e || $;}var t = e.prototype;return t.space = function (e) {var t = this.rules.block.newline.exec(e);if (t) return t[0].length > 1 ? { type: "space", raw: t[0] } : { raw: "\n" };}, t.code = function (e) {var t = this.rules.block.code.exec(e);if (t) {var n = t[0].replace(/^ {1,4}/gm, "");return { type: "code", raw: t[0], codeBlockStyle: "indented", text: this.options.pedantic ? n : M(n, "\n") };}}, t.fences = function (e) {var t = this.rules.block.fences.exec(e);if (t) {var n = t[0],i = function (e, t) {var n = e.match(/^(\s+)(?:```)/);if (null === n) return t;var i = n[1];return t.split("\n").map(function (e) {var t = e.match(/^\s+/);return null === t ? e : t[0].length >= i.length ? e.slice(i.length) : e;}).join("\n");}(n, t[3] || "");return { type: "code", raw: n, lang: t[2] ? t[2].trim() : t[2], text: i };}}, t.heading = function (e) {var t = this.rules.block.heading.exec(e);if (t) {var n = t[2].trim();if (/#$/.test(n)) {var i = M(n, "#");this.options.pedantic ? n = i.trim() : i && !/ $/.test(i) || (n = i.trim());}return { type: "heading", raw: t[0], depth: t[1].length, text: n };}}, t.nptable = function (e) {var t = this.rules.block.nptable.exec(e);if (t) {var n = { type: "table", header: O(t[1].replace(/^ *| *\| *$/g, "")), align: t[2].replace(/^ *|\| *$/g, "").split(/ *\| */), cells: t[3] ? t[3].replace(/\n$/, "").split("\n") : [], raw: t[0] };if (n.header.length === n.align.length) {var i,r = n.align.length;for (i = 0; i < r; i++) /^ *-+: *$/.test(n.align[i]) ? n.align[i] = "right" : /^ *:-+: *$/.test(n.align[i]) ? n.align[i] = "center" : /^ *:-+ *$/.test(n.align[i]) ? n.align[i] = "left" : n.align[i] = null;for (r = n.cells.length, i = 0; i < r; i++) n.cells[i] = O(n.cells[i], n.header.length);return n;}}}, t.hr = function (e) {var t = this.rules.block.hr.exec(e);if (t) return { type: "hr", raw: t[0] };}, t.blockquote = function (e) {var t = this.rules.block.blockquote.exec(e);if (t) {var n = t[0].replace(/^ *> ?/gm, "");return { type: "blockquote", raw: t[0], text: n };}}, t.list = function (e) {var t = this.rules.block.list.exec(e);if (t) {var n,i,r,s,o,u,a,l,c,d = t[0],h = t[2],f = h.length > 1,p = { type: "list", raw: d, ordered: f, start: f ? +h.slice(0, -1) : "", loose: !1, items: [] },g = t[0].match(this.rules.block.item),D = !1,m = g.length;r = this.rules.block.listItemStart.exec(g[0]);for (var v = 0; v < m; v++) {if (d = n = g[v], this.options.pedantic || (c = n.match(new RegExp("\\n\\s*\\n {0," + (r[0].length - 1) + "}\\S"))) && (o = n.length - c.index + g.slice(v + 1).join("\n").length, p.raw = p.raw.substring(0, p.raw.length - o), d = n = n.substring(0, c.index), m = v + 1), v !== m - 1) {if (s = this.rules.block.listItemStart.exec(g[v + 1]), this.options.pedantic ? s[1].length > r[1].length : s[1].length >= r[0].length || s[1].length > 3) {g.splice(v, 2, g[v] + (!this.options.pedantic && s[1].length < r[0].length && !g[v].match(/\n$/) ? "" : "\n") + g[v + 1]), v--, m--;continue;}(!this.options.pedantic || this.options.smartLists ? s[2][s[2].length - 1] !== h[h.length - 1] : f === (1 === s[2].length)) && (o = g.slice(v + 1).join("\n").length, p.raw = p.raw.substring(0, p.raw.length - o), v = m - 1), r = s;}i = n.length, ~(n = n.replace(/^ *([*+-]|\d+[.)]) ?/, "")).indexOf("\n ") && (i -= n.length, n = this.options.pedantic ? n.replace(/^ {1,4}/gm, "") : n.replace(new RegExp("^ {1," + i + "}", "gm"), "")), n = M(n, "\n"), v !== m - 1 && (d += "\n"), u = D || /\n\n(?!\s*$)/.test(d), v !== m - 1 && (D = "\n\n" === d.slice(-2), u || (u = D)), u && (p.loose = !0), this.options.gfm && (l = void 0, (a = /^\[[ xX]\] /.test(n)) && (l = " " !== n[1], n = n.replace(/^\[[ xX]\] +/, ""))), p.items.push({ type: "list_item", raw: d, task: a, checked: l, loose: u, text: n });}return p;}}, t.html = function (e) {var t = this.rules.block.html.exec(e);if (t) return { type: this.options.sanitize ? "paragraph" : "html", raw: t[0], pre: !this.options.sanitizer && ("pre" === t[1] || "script" === t[1] || "style" === t[1]), text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(t[0]) : L(t[0]) : t[0] };}, t.def = function (e) {var t = this.rules.block.def.exec(e);if (t) return t[3] && (t[3] = t[3].substring(1, t[3].length - 1)), { tag: t[1].toLowerCase().replace(/\s+/g, " "), raw: t[0], href: t[2], title: t[3] };}, t.table = function (e) {var t = this.rules.block.table.exec(e);if (t) {var n = { type: "table", header: O(t[1].replace(/^ *| *\| *$/g, "")), align: t[2].replace(/^ *|\| *$/g, "").split(/ *\| */), cells: t[3] ? t[3].replace(/\n$/, "").split("\n") : [] };if (n.header.length === n.align.length) {n.raw = t[0];var i,r = n.align.length;for (i = 0; i < r; i++) /^ *-+: *$/.test(n.align[i]) ? n.align[i] = "right" : /^ *:-+: *$/.test(n.align[i]) ? n.align[i] = "center" : /^ *:-+ *$/.test(n.align[i]) ? n.align[i] = "left" : n.align[i] = null;for (r = n.cells.length, i = 0; i < r; i++) n.cells[i] = O(n.cells[i].replace(/^ *\| *| *\| *$/g, ""), n.header.length);return n;}}}, t.lheading = function (e) {var t = this.rules.block.lheading.exec(e);if (t) return { type: "heading", raw: t[0], depth: "=" === t[2].charAt(0) ? 1 : 2, text: t[1] };}, t.paragraph = function (e) {var t = this.rules.block.paragraph.exec(e);if (t) return { type: "paragraph", raw: t[0], text: "\n" === t[1].charAt(t[1].length - 1) ? t[1].slice(0, -1) : t[1] };}, t.text = function (e) {var t = this.rules.block.text.exec(e);if (t) return { type: "text", raw: t[0], text: t[0] };}, t.escape = function (e) {var t = this.rules.inline.escape.exec(e);if (t) return { type: "escape", raw: t[0], text: L(t[1]) };}, t.tag = function (e, t, n) {var i = this.rules.inline.tag.exec(e);if (i) return !t && /^<a /i.test(i[0]) ? t = !0 : t && /^<\/a>/i.test(i[0]) && (t = !1), !n && /^<(pre|code|kbd|script)(\s|>)/i.test(i[0]) ? n = !0 : n && /^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0]) && (n = !1), { type: this.options.sanitize ? "text" : "html", raw: i[0], inLink: t, inRawBlock: n, text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(i[0]) : L(i[0]) : i[0] };}, t.link = function (e) {var t = this.rules.inline.link.exec(e);if (t) {var n = t[2].trim();if (!this.options.pedantic && /^</.test(n)) {if (!/>$/.test(n)) return;var i = M(n.slice(0, -1), "\\");if ((n.length - i.length) % 2 == 0) return;} else {var r = I(t[2], "()");if (r > -1) {var s = (0 === t[0].indexOf("!") ? 5 : 4) + t[1].length + r;t[2] = t[2].substring(0, r), t[0] = t[0].substring(0, s).trim(), t[3] = "";}}var o = t[2],u = "";if (this.options.pedantic) {var a = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);a && (o = a[1], u = a[3]);} else u = t[3] ? t[3].slice(1, -1) : "";return o = o.trim(), /^</.test(o) && (o = this.options.pedantic && !/>$/.test(n) ? o.slice(1) : o.slice(1, -1)), z(t, { href: o ? o.replace(this.rules.inline._escapes, "$1") : o, title: u ? u.replace(this.rules.inline._escapes, "$1") : u }, t[0]);}}, t.reflink = function (e, t) {var n;if ((n = this.rules.inline.reflink.exec(e)) || (n = this.rules.inline.nolink.exec(e))) {var i = (n[2] || n[1]).replace(/\s+/g, " ");if (!(i = t[i.toLowerCase()]) || !i.href) {var r = n[0].charAt(0);return { type: "text", raw: r, text: r };}return z(n, i, n[0]);}}, t.emStrong = function (e, t, n) {void 0 === n && (n = "");var i = this.rules.inline.emStrong.lDelim.exec(e);if (i && (!i[3] || !n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))) {var r = i[1] || i[2] || "";if (!r || r && ("" === n || this.rules.inline.punctuation.exec(n))) {var s,o,u = i[0].length - 1,a = u,l = 0,c = "*" === i[0][0] ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;for (c.lastIndex = 0, t = t.slice(-1 * e.length + u); null != (i = c.exec(t));) if (s = i[1] || i[2] || i[3] || i[4] || i[5] || i[6]) if (o = s.length, i[3] || i[4]) a += o;else if (!((i[5] || i[6]) && u % 3) || (u + o) % 3) {if (!((a -= o) > 0)) {if (a + l - o <= 0 && !t.slice(c.lastIndex).match(c) && (o = Math.min(o, o + a + l)), Math.min(u, o) % 2) return { type: "em", raw: e.slice(0, u + i.index + o + 1), text: e.slice(1, u + i.index + o) };if (Math.min(u, o) % 2 == 0) return { type: "strong", raw: e.slice(0, u + i.index + o + 1), text: e.slice(2, u + i.index + o - 1) };}} else l += o;}}}, t.codespan = function (e) {var t = this.rules.inline.code.exec(e);if (t) {var n = t[2].replace(/\n/g, " "),i = /[^ ]/.test(n),r = /^ /.test(n) && / $/.test(n);return i && r && (n = n.substring(1, n.length - 1)), n = L(n, !0), { type: "codespan", raw: t[0], text: n };}}, t.br = function (e) {var t = this.rules.inline.br.exec(e);if (t) return { type: "br", raw: t[0] };}, t.del = function (e) {var t = this.rules.inline.del.exec(e);if (t) return { type: "del", raw: t[0], text: t[2] };}, t.autolink = function (e, t) {var n,i,r = this.rules.inline.autolink.exec(e);if (r) return i = "@" === r[2] ? "mailto:" + (n = L(this.options.mangle ? t(r[1]) : r[1])) : n = L(r[1]), { type: "link", raw: r[0], text: n, href: i, tokens: [{ type: "text", raw: n, text: n }] };}, t.url = function (e, t) {var n;if (n = this.rules.inline.url.exec(e)) {var i, r;if ("@" === n[2]) r = "mailto:" + (i = L(this.options.mangle ? t(n[0]) : n[0]));else {var s;do {s = n[0], n[0] = this.rules.inline._backpedal.exec(n[0])[0];} while (s !== n[0]);i = L(n[0]), r = "www." === n[1] ? "http://" + i : i;}return { type: "link", raw: n[0], text: i, href: r, tokens: [{ type: "text", raw: i, text: i }] };}}, t.inlineText = function (e, t, n) {var i,r = this.rules.inline.text.exec(e);if (r) return i = t ? this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(r[0]) : L(r[0]) : r[0] : L(this.options.smartypants ? n(r[0]) : r[0]), { type: "text", raw: r[0], text: i };}, e;}(),j = F,N = k,q = x,W = { newline: /^(?: *(?:\n|$))+/, code: /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/, fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/, hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/, heading: /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/, blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/, list: /^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/, html: "^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))", def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/, nptable: j, table: j, lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/, _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/, text: /^[^\n]+/, _label: /(?!\s*\])(?:\\[\[\]]|[^\[\]])+/, _title: /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/ };W.def = N(W.def).replace("label", W._label).replace("title", W._title).getRegex(), W.bullet = /(?:[*+-]|\d{1,9}[.)])/, W.item = /^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/, W.item = N(W.item, "gm").replace(/bull/g, W.bullet).getRegex(), W.listItemStart = N(/^( *)(bull) */).replace("bull", W.bullet).getRegex(), W.list = N(W.list).replace(/bull/g, W.bullet).replace("hr", "\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def", "\\n+(?=" + W.def.source + ")").getRegex(), W._tag = "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul", W._comment = /<!--(?!-?>)[\s\S]*?(?:-->|$)/, W.html = N(W.html, "i").replace("comment", W._comment).replace("tag", W._tag).replace("attribute", / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(), W.paragraph = N(W._paragraph).replace("hr", W.hr).replace("heading", " {0,3}#{1,6} ").replace("|lheading", "").replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag", W._tag).getRegex(), W.blockquote = N(W.blockquote).replace("paragraph", W.paragraph).getRegex(), W.normal = q({}, W), W.gfm = q({}, W.normal, { nptable: "^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)", table: "^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)" }), W.gfm.nptable = N(W.gfm.nptable).replace("hr", W.hr).replace("heading", " {0,3}#{1,6} ").replace("blockquote", " {0,3}>").replace("code", " {4}[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag", W._tag).getRegex(), W.gfm.table = N(W.gfm.table).replace("hr", W.hr).replace("heading", " {0,3}#{1,6} ").replace("blockquote", " {0,3}>").replace("code", " {4}[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag", W._tag).getRegex(), W.pedantic = q({}, W.normal, { html: N("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment", W._comment).replace(/tag/g, "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(), def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/, heading: /^(#{1,6})(.*)(?:\n+|$)/, fences: j, paragraph: N(W.normal._paragraph).replace("hr", W.hr).replace("heading", " *#{1,6} *[^\n]").replace("lheading", W.lheading).replace("blockquote", " {0,3}>").replace("|fences", "").replace("|list", "").replace("|html", "").getRegex() });var H = { escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/, autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/, url: j, tag: "^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>", link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/, reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/, nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/, reflinkSearch: "reflink|nolink(?!\\()", emStrong: { lDelim: /^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/, rDelimAst: /\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/, rDelimUnd: /\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/ }, code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/, br: /^( {2,}|\\)\n(?!\s*$)/, del: j, text: /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/, punctuation: /^([\spunctuation])/, _punctuation: "!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~" };H.punctuation = N(H.punctuation).replace(/punctuation/g, H._punctuation).getRegex(), H.blockSkip = /\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g, H.escapedEmSt = /\\\*|\\_/g, H._comment = N(W._comment).replace("(?:--\x3e|$)", "--\x3e").getRegex(), H.emStrong.lDelim = N(H.emStrong.lDelim).replace(/punct/g, H._punctuation).getRegex(), H.emStrong.rDelimAst = N(H.emStrong.rDelimAst, "g").replace(/punct/g, H._punctuation).getRegex(), H.emStrong.rDelimUnd = N(H.emStrong.rDelimUnd, "g").replace(/punct/g, H._punctuation).getRegex(), H._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g, H._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/, H._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/, H.autolink = N(H.autolink).replace("scheme", H._scheme).replace("email", H._email).getRegex(), H._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/, H.tag = N(H.tag).replace("comment", H._comment).replace("attribute", H._attribute).getRegex(), H._label = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/, H._href = /<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/, H._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/, H.link = N(H.link).replace("label", H._label).replace("href", H._href).replace("title", H._title).getRegex(), H.reflink = N(H.reflink).replace("label", H._label).getRegex(), H.reflinkSearch = N(H.reflinkSearch, "g").replace("reflink", H.reflink).replace("nolink", H.nolink).getRegex(), H.normal = q({}, H), H.pedantic = q({}, H.normal, { strong: { start: /^__|\*\*/, middle: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/, endAst: /\*\*(?!\*)/g, endUnd: /__(?!_)/g }, em: { start: /^_|\*/, middle: /^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/, endAst: /\*(?!\*)/g, endUnd: /_(?!_)/g }, link: N(/^!?\[(label)\]\((.*?)\)/).replace("label", H._label).getRegex(), reflink: N(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label", H._label).getRegex() }), H.gfm = q({}, H.normal, { escape: N(H.escape).replace("])", "~|])").getRegex(), _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/, url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/, _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/, del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/, text: /^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/ }), H.gfm.url = N(H.gfm.url, "i").replace("email", H.gfm._extended_email).getRegex(), H.breaks = q({}, H.gfm, { br: N(H.br).replace("{2,}", "*").getRegex(), text: N(H.gfm.text).replace("\\b_", "\\b_| {2,}\\n").replace(/\{2,\}/g, "*").getRegex() });var V = { block: W, inline: H },U = r.defaults,Z = V.block,G = V.inline,K = T;function Y(e) {return e.replace(/---/g, "—").replace(/--/g, "–").replace(/(^|[-\u2014/(\[{"\s])'/g, "$1‘").replace(/'/g, "’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1“").replace(/"/g, "”").replace(/\.{3}/g, "…");}function X(e) {var t,n,i = "",r = e.length;for (t = 0; t < r; t++) n = e.charCodeAt(t), Math.random() > .5 && (n = "x" + n.toString(16)), i += "&#" + n + ";";return i;}var J = function () {function t(e) {this.tokens = [], this.tokens.links = Object.create(null), this.options = e || U, this.options.tokenizer = this.options.tokenizer || new R(), this.tokenizer = this.options.tokenizer, this.tokenizer.options = this.options;var t = { block: Z.normal, inline: G.normal };this.options.pedantic ? (t.block = Z.pedantic, t.inline = G.pedantic) : this.options.gfm && (t.block = Z.gfm, this.options.breaks ? t.inline = G.breaks : t.inline = G.gfm), this.tokenizer.rules = t;}t.lex = function (e, n) {return new t(n).lex(e);}, t.lexInline = function (e, n) {return new t(n).inlineTokens(e);};var n,i,r,s = t.prototype;return s.lex = function (e) {return e = e.replace(/\r\n|\r/g, "\n").replace(/\t/g, "    "), this.blockTokens(e, this.tokens, !0), this.inline(this.tokens), this.tokens;}, s.blockTokens = function (e, t, n) {var i, r, s, o;for (void 0 === t && (t = []), void 0 === n && (n = !0), this.options.pedantic && (e = e.replace(/^ +$/gm, "")); e;) if (i = this.tokenizer.space(e)) e = e.substring(i.raw.length), i.type && t.push(i);else if (i = this.tokenizer.code(e)) e = e.substring(i.raw.length), (o = t[t.length - 1]) && "paragraph" === o.type ? (o.raw += "\n" + i.raw, o.text += "\n" + i.text) : t.push(i);else if (i = this.tokenizer.fences(e)) e = e.substring(i.raw.length), t.push(i);else if (i = this.tokenizer.heading(e)) e = e.substring(i.raw.length), t.push(i);else if (i = this.tokenizer.nptable(e)) e = e.substring(i.raw.length), t.push(i);else if (i = this.tokenizer.hr(e)) e = e.substring(i.raw.length), t.push(i);else if (i = this.tokenizer.blockquote(e)) e = e.substring(i.raw.length), i.tokens = this.blockTokens(i.text, [], n), t.push(i);else if (i = this.tokenizer.list(e)) {for (e = e.substring(i.raw.length), s = i.items.length, r = 0; r < s; r++) i.items[r].tokens = this.blockTokens(i.items[r].text, [], !1);t.push(i);} else if (i = this.tokenizer.html(e)) e = e.substring(i.raw.length), t.push(i);else if (n && (i = this.tokenizer.def(e))) e = e.substring(i.raw.length), this.tokens.links[i.tag] || (this.tokens.links[i.tag] = { href: i.href, title: i.title });else if (i = this.tokenizer.table(e)) e = e.substring(i.raw.length), t.push(i);else if (i = this.tokenizer.lheading(e)) e = e.substring(i.raw.length), t.push(i);else if (n && (i = this.tokenizer.paragraph(e))) e = e.substring(i.raw.length), t.push(i);else if (i = this.tokenizer.text(e)) e = e.substring(i.raw.length), (o = t[t.length - 1]) && "text" === o.type ? (o.raw += "\n" + i.raw, o.text += "\n" + i.text) : t.push(i);else if (e) {var u = "Infinite loop on byte: " + e.charCodeAt(0);if (this.options.silent) {console.error(u);break;}throw new Error(u);}return t;}, s.inline = function (e) {var t,n,i,r,s,o,u = e.length;for (t = 0; t < u; t++) switch ((o = e[t]).type) {case "paragraph":case "text":case "heading":o.tokens = [], this.inlineTokens(o.text, o.tokens);break;case "table":for (o.tokens = { header: [], cells: [] }, r = o.header.length, n = 0; n < r; n++) o.tokens.header[n] = [], this.inlineTokens(o.header[n], o.tokens.header[n]);for (r = o.cells.length, n = 0; n < r; n++) for (s = o.cells[n], o.tokens.cells[n] = [], i = 0; i < s.length; i++) o.tokens.cells[n][i] = [], this.inlineTokens(s[i], o.tokens.cells[n][i]);break;case "blockquote":this.inline(o.tokens);break;case "list":for (r = o.items.length, n = 0; n < r; n++) this.inline(o.items[n].tokens);}return e;}, s.inlineTokens = function (e, t, n, i) {var r, s;void 0 === t && (t = []), void 0 === n && (n = !1), void 0 === i && (i = !1);var o,u,a,l = e;if (this.tokens.links) {var c = Object.keys(this.tokens.links);if (c.length > 0) for (; null != (o = this.tokenizer.rules.inline.reflinkSearch.exec(l));) c.includes(o[0].slice(o[0].lastIndexOf("[") + 1, -1)) && (l = l.slice(0, o.index) + "[" + K("a", o[0].length - 2) + "]" + l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex));}for (; null != (o = this.tokenizer.rules.inline.blockSkip.exec(l));) l = l.slice(0, o.index) + "[" + K("a", o[0].length - 2) + "]" + l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for (; null != (o = this.tokenizer.rules.inline.escapedEmSt.exec(l));) l = l.slice(0, o.index) + "++" + l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for (; e;) if (u || (a = ""), u = !1, r = this.tokenizer.escape(e)) e = e.substring(r.raw.length), t.push(r);else if (r = this.tokenizer.tag(e, n, i)) {e = e.substring(r.raw.length), n = r.inLink, i = r.inRawBlock;var d = t[t.length - 1];d && "text" === r.type && "text" === d.type ? (d.raw += r.raw, d.text += r.text) : t.push(r);} else if (r = this.tokenizer.link(e)) e = e.substring(r.raw.length), "link" === r.type && (r.tokens = this.inlineTokens(r.text, [], !0, i)), t.push(r);else if (r = this.tokenizer.reflink(e, this.tokens.links)) {e = e.substring(r.raw.length);var h = t[t.length - 1];"link" === r.type ? (r.tokens = this.inlineTokens(r.text, [], !0, i), t.push(r)) : h && "text" === r.type && "text" === h.type ? (h.raw += r.raw, h.text += r.text) : t.push(r);} else if (r = this.tokenizer.emStrong(e, l, a)) e = e.substring(r.raw.length), r.tokens = this.inlineTokens(r.text, [], n, i), t.push(r);else if (r = this.tokenizer.codespan(e)) e = e.substring(r.raw.length), t.push(r);else if (r = this.tokenizer.br(e)) e = e.substring(r.raw.length), t.push(r);else if (r = this.tokenizer.del(e)) e = e.substring(r.raw.length), r.tokens = this.inlineTokens(r.text, [], n, i), t.push(r);else if (r = this.tokenizer.autolink(e, X)) e = e.substring(r.raw.length), t.push(r);else if (n || !(r = this.tokenizer.url(e, X))) {if (r = this.tokenizer.inlineText(e, i, Y)) e = e.substring(r.raw.length), "_" !== r.raw.slice(-1) && (a = r.raw.slice(-1)), u = !0, (s = t[t.length - 1]) && "text" === s.type ? (s.raw += r.raw, s.text += r.text) : t.push(r);else if (e) {var f = "Infinite loop on byte: " + e.charCodeAt(0);if (this.options.silent) {console.error(f);break;}throw new Error(f);}} else e = e.substring(r.raw.length), t.push(r);return t;}, n = t, r = [{ key: "rules", get: function () {return { block: Z, inline: G };} }], (i = null) && e(n.prototype, i), r && e(n, r), t;}(),Q = r.defaults,ee = A,te = y,ne = function () {function e(e) {this.options = e || Q;}var t = e.prototype;return t.code = function (e, t, n) {var i = (t || "").match(/\S*/)[0];if (this.options.highlight) {var r = this.options.highlight(e, i);null != r && r !== e && (n = !0, e = r);}return e = e.replace(/\n$/, "") + "\n", i ? '<pre><code class="' + this.options.langPrefix + te(i, !0) + '">' + (n ? e : te(e, !0)) + "</code></pre>\n" : "<pre><code>" + (n ? e : te(e, !0)) + "</code></pre>\n";}, t.blockquote = function (e) {return "<blockquote>\n" + e + "</blockquote>\n";}, t.html = function (e) {return e;}, t.heading = function (e, t, n, i) {return this.options.headerIds ? "<h" + t + ' id="' + this.options.headerPrefix + i.slug(n) + '">' + e + "</h" + t + ">\n" : "<h" + t + ">" + e + "</h" + t + ">\n";}, t.hr = function () {return this.options.xhtml ? "<hr/>\n" : "<hr>\n";}, t.list = function (e, t, n) {var i = t ? "ol" : "ul";return "<" + i + (t && 1 !== n ? ' start="' + n + '"' : "") + ">\n" + e + "</" + i + ">\n";}, t.listitem = function (e) {return "<li>" + e + "</li>\n";}, t.checkbox = function (e) {return "<input " + (e ? 'checked="" ' : "") + 'disabled="" type="checkbox"' + (this.options.xhtml ? " /" : "") + "> ";}, t.paragraph = function (e) {return "<p>" + e + "</p>\n";}, t.table = function (e, t) {return t && (t = "<tbody>" + t + "</tbody>"), "<table>\n<thead>\n" + e + "</thead>\n" + t + "</table>\n";}, t.tablerow = function (e) {return "<tr>\n" + e + "</tr>\n";}, t.tablecell = function (e, t) {var n = t.header ? "th" : "td";return (t.align ? "<" + n + ' align="' + t.align + '">' : "<" + n + ">") + e + "</" + n + ">\n";}, t.strong = function (e) {return "<strong>" + e + "</strong>";}, t.em = function (e) {return "<em>" + e + "</em>";}, t.codespan = function (e) {return "<code>" + e + "</code>";}, t.br = function () {return this.options.xhtml ? "<br/>" : "<br>";}, t.del = function (e) {return "<del>" + e + "</del>";}, t.link = function (e, t, n) {if (null === (e = ee(this.options.sanitize, this.options.baseUrl, e))) return n;var i = '<a href="' + te(e) + '"';return t && (i += ' title="' + t + '"'), i += ">" + n + "</a>";}, t.image = function (e, t, n) {if (null === (e = ee(this.options.sanitize, this.options.baseUrl, e))) return n;var i = '<img src="' + e + '" alt="' + n + '"';return t && (i += ' title="' + t + '"'), i += this.options.xhtml ? "/>" : ">";}, t.text = function (e) {return e;}, e;}(),ie = function () {function e() {}var t = e.prototype;return t.strong = function (e) {return e;}, t.em = function (e) {return e;}, t.codespan = function (e) {return e;}, t.del = function (e) {return e;}, t.html = function (e) {return e;}, t.text = function (e) {return e;}, t.link = function (e, t, n) {return "" + n;}, t.image = function (e, t, n) {return "" + n;}, t.br = function () {return "";}, e;}(),re = function () {function e() {this.seen = {};}var t = e.prototype;return t.serialize = function (e) {return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi, "").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, "").replace(/\s/g, "-");}, t.getNextSafeSlug = function (e, t) {var n = e,i = 0;if (this.seen.hasOwnProperty(n)) {i = this.seen[e];do {n = e + "-" + ++i;} while (this.seen.hasOwnProperty(n));}return t || (this.seen[e] = i, this.seen[n] = 0), n;}, t.slug = function (e, t) {void 0 === t && (t = {});var n = this.serialize(e);return this.getNextSafeSlug(n, t.dryrun);}, e;}(),se = r.defaults,oe = E,ue = function () {function e(e) {this.options = e || se, this.options.renderer = this.options.renderer || new ne(), this.renderer = this.options.renderer, this.renderer.options = this.options, this.textRenderer = new ie(), this.slugger = new re();}e.parse = function (t, n) {return new e(n).parse(t);}, e.parseInline = function (t, n) {return new e(n).parseInline(t);};var t = e.prototype;return t.parse = function (e, t) {void 0 === t && (t = !0);var n,i,r,s,o,u,a,l,c,d,h,f,p,g,D,m,v,b,w = "",C = e.length;for (n = 0; n < C; n++) switch ((d = e[n]).type) {case "space":continue;case "hr":w += this.renderer.hr();continue;case "heading":w += this.renderer.heading(this.parseInline(d.tokens), d.depth, oe(this.parseInline(d.tokens, this.textRenderer)), this.slugger);continue;case "code":w += this.renderer.code(d.text, d.lang, d.escaped);continue;case "table":for (l = "", a = "", s = d.header.length, i = 0; i < s; i++) a += this.renderer.tablecell(this.parseInline(d.tokens.header[i]), { header: !0, align: d.align[i] });for (l += this.renderer.tablerow(a), c = "", s = d.cells.length, i = 0; i < s; i++) {for (a = "", o = (u = d.tokens.cells[i]).length, r = 0; r < o; r++) a += this.renderer.tablecell(this.parseInline(u[r]), { header: !1, align: d.align[r] });c += this.renderer.tablerow(a);}w += this.renderer.table(l, c);continue;case "blockquote":c = this.parse(d.tokens), w += this.renderer.blockquote(c);continue;case "list":for (h = d.ordered, f = d.start, p = d.loose, s = d.items.length, c = "", i = 0; i < s; i++) m = (D = d.items[i]).checked, v = D.task, g = "", D.task && (b = this.renderer.checkbox(m), p ? D.tokens.length > 0 && "text" === D.tokens[0].type ? (D.tokens[0].text = b + " " + D.tokens[0].text, D.tokens[0].tokens && D.tokens[0].tokens.length > 0 && "text" === D.tokens[0].tokens[0].type && (D.tokens[0].tokens[0].text = b + " " + D.tokens[0].tokens[0].text)) : D.tokens.unshift({ type: "text", text: b }) : g += b), g += this.parse(D.tokens, p), c += this.renderer.listitem(g, v, m);w += this.renderer.list(c, h, f);continue;case "html":w += this.renderer.html(d.text);continue;case "paragraph":w += this.renderer.paragraph(this.parseInline(d.tokens));continue;case "text":for (c = d.tokens ? this.parseInline(d.tokens) : d.text; n + 1 < C && "text" === e[n + 1].type;) c += "\n" + ((d = e[++n]).tokens ? this.parseInline(d.tokens) : d.text);w += t ? this.renderer.paragraph(c) : c;continue;default:var y = 'Token with "' + d.type + '" type was not found.';if (this.options.silent) return void console.error(y);throw new Error(y);}return w;}, t.parseInline = function (e, t) {t = t || this.renderer;var n,i,r = "",s = e.length;for (n = 0; n < s; n++) switch ((i = e[n]).type) {case "escape":r += t.text(i.text);break;case "html":r += t.html(i.text);break;case "link":r += t.link(i.href, i.title, this.parseInline(i.tokens, t));break;case "image":r += t.image(i.href, i.title, i.text);break;case "strong":r += t.strong(this.parseInline(i.tokens, t));break;case "em":r += t.em(this.parseInline(i.tokens, t));break;case "codespan":r += t.codespan(i.text);break;case "br":r += t.br();break;case "del":r += t.del(this.parseInline(i.tokens, t));break;case "text":r += t.text(i.text);break;default:var o = 'Token with "' + i.type + '" type was not found.';if (this.options.silent) return void console.error(o);throw new Error(o);}return r;}, e;}(),ae = x,le = _,ce = y,de = r.getDefaults,he = r.changeDefaults,fe = r.defaults;function pe(e, t, n) {if (null == e) throw new Error("marked(): input parameter is undefined or null");if ("string" != typeof e) throw new Error("marked(): input parameter is of type " + Object.prototype.toString.call(e) + ", string expected");if ("function" == typeof t && (n = t, t = null), t = ae({}, pe.defaults, t || {}), le(t), n) {var i,r = t.highlight;try {i = J.lex(e, t);} catch (e) {return n(e);}var s = function (e) {var s;if (!e) try {s = ue.parse(i, t);} catch (t) {e = t;}return t.highlight = r, e ? n(e) : n(null, s);};if (!r || r.length < 3) return s();if (delete t.highlight, !i.length) return s();var o = 0;return pe.walkTokens(i, function (e) {"code" === e.type && (o++, setTimeout(function () {r(e.text, e.lang, function (t, n) {if (t) return s(t);null != n && n !== e.text && (e.text = n, e.escaped = !0), 0 === --o && s();});}, 0));}), void (0 === o && s());}try {var u = J.lex(e, t);return t.walkTokens && pe.walkTokens(u, t.walkTokens), ue.parse(u, t);} catch (e) {if (e.message += "\nPlease report this to https://github.com/markedjs/marked.", t.silent) return "<p>An error occurred:</p><pre>" + ce(e.message + "", !0) + "</pre>";throw e;}}return pe.options = pe.setOptions = function (e) {return ae(pe.defaults, e), he(pe.defaults), pe;}, pe.getDefaults = de, pe.defaults = fe, pe.use = function (e) {var t = ae({}, e);if (e.renderer && function () {var n = pe.defaults.renderer || new ne(),i = function (t) {var i = n[t];n[t] = function () {for (var r = arguments.length, s = new Array(r), o = 0; o < r; o++) s[o] = arguments[o];var u = e.renderer[t].apply(n, s);return !1 === u && (u = i.apply(n, s)), u;};};for (var r in e.renderer) i(r);t.renderer = n;}(), e.tokenizer && function () {var n = pe.defaults.tokenizer || new R(),i = function (t) {var i = n[t];n[t] = function () {for (var r = arguments.length, s = new Array(r), o = 0; o < r; o++) s[o] = arguments[o];var u = e.tokenizer[t].apply(n, s);return !1 === u && (u = i.apply(n, s)), u;};};for (var r in e.tokenizer) i(r);t.tokenizer = n;}(), e.walkTokens) {var n = pe.defaults.walkTokens;t.walkTokens = function (t) {e.walkTokens(t), n && n(t);};}pe.setOptions(t);}, pe.walkTokens = function (e, t) {for (var i, r = n(e); !(i = r()).done;) {var s = i.value;switch (t(s), s.type) {case "table":for (var o, u = n(s.tokens.header); !(o = u()).done;) {var a = o.value;pe.walkTokens(a, t);}for (var l, c = n(s.tokens.cells); !(l = c()).done;) for (var d, h = n(l.value); !(d = h()).done;) {var f = d.value;pe.walkTokens(f, t);}break;case "list":pe.walkTokens(s.items, t);break;default:s.tokens && pe.walkTokens(s.tokens, t);}}}, pe.parseInline = function (e, t) {if (null == e) throw new Error("marked.parseInline(): input parameter is undefined or null");if ("string" != typeof e) throw new Error("marked.parseInline(): input parameter is of type " + Object.prototype.toString.call(e) + ", string expected");t = ae({}, pe.defaults, t || {}), le(t);try {var n = J.lexInline(e, t);return t.walkTokens && pe.walkTokens(n, t.walkTokens), ue.parseInline(n, t);} catch (e) {if (e.message += "\nPlease report this to https://github.com/markedjs/marked.", t.silent) return "<p>An error occurred:</p><pre>" + ce(e.message + "", !0) + "</pre>";throw e;}}, pe.Parser = ue, pe.parser = ue.parse, pe.Renderer = ne, pe.TextRenderer = ie, pe.Lexer = J, pe.lexer = J.lex, pe.Tokenizer = R, pe.Slugger = re, pe.parse = pe, pe;});var vi = function (e) {return e && e.__esModule ? e : { default: e };}(mi),bi = {},wi = pt,Ci = gt;Object.defineProperty(bi, "__esModule", { value: !0 });var yi = function (e) {return (() => {const t = Ei.cloneNode(!0);return mt(t, "click", e.onClick, !0), t;})();};bi.FixButton = yi;const Ei = wi('<button class="btn fix-btn">Fix</button>', 2);Ci(["click"]);const ki = fi('<div class="linter-message"><div><div class="linter-text"><div class="provider-name"></div></div><div class="linter-buttons-right"></div></div></div>', 10),Ai = fi('<a href="#"><span></span></a>', 4),Fi = fi('<a href="#"><span class="icon linter-icon icon-alignment-aligned-to"></span></a>', 4),xi = fi('<a href="#"><span class="icon linter-icon icon-link"></span></a>', 4),Bi = fi('<div class="linter-line"></div>', 2);function Si() {if ("function" != typeof WeakMap) return null;var e = new WeakMap();return Si = function () {return e;}, e;}function Pi(e) {if (!(e.target instanceof HTMLElement)) return;const t = function (e) {for (; e && !e.classList.contains("linter-line");) {if (e instanceof HTMLAnchorElement) return e.href;e = e.parentElement;}return null;}(e.target);if (!t) return;const { protocol: n, hostname: i, query: r } = Di.parse(t, !0);if ("atom:" === n && "linter" === i && r && r.file) {const { file: e, row: t, column: n } = r;(0, k.openFile)(Array.isArray(e) ? e[0] : e, { row: t ? parseInt(Array.isArray(t) ? t[0] : t, 10) : 0, column: n ? parseInt(Array.isArray(n) ? n[0] : n, 10) : 0 });}}pi(["click"]);var _i = Hi(hi = hi.default),Ti = {};Object.defineProperty(Ti, "__esModule", { value: !0 });var $i = (Mi = void 0, Li = Ti.makeOverlaySelectable = Mi, zi = Ti.overlayFocusFix = Li, ji = Ti.focusEditor = zi, Ni = Ti.blurEditor = ji, Ti.makeOverLayCopyable = Ni);Ti.copyListener = $i;var Mi = function (e, t, n = !0) {t.setAttribute("tabindex", "-1"), t.style.userSelect && "none" !== t.style.userSelect || (t.style.userSelect = "text"), n && Oi(e, t), t.classList.add("native-key-bindings");};function Oi(e, t) {const n = atom.views.getView(e).getComponent();t.addEventListener("mousedown", () => {Ri(n), t.addEventListener("mouseleave", () => {Ii(n);});});}Ti.makeOverlaySelectable = Mi;var Li = Oi;function Ii(e) {null == e || e.didFocus();}Ti.overlayFocusFix = Li;var zi = Ii;function Ri(e) {null == e || e.didBlurHiddenInput({ relatedTarget: null });}Ti.focusEditor = zi;var ji = Ri;Ti.blurEditor = ji;var Ni = function (e) {e.addEventListener("mouseenter", () => {e.addEventListener("keydown", qi);}), e.addEventListener("mouseleave", () => {e.removeEventListener("keydown", qi);});};async function qi(e) {var t, n;if (e.preventDefault(), e.ctrlKey && "c" === e.key) {const e = null !== (n = null === (t = document.getSelection()) || void 0 === t ? void 0 : t.toString()) && void 0 !== n ? n : "";await navigator.clipboard.writeText(e);}}Ti.makeOverLayCopyable = Ni, $i = qi, Ti.copyListener = $i;const Wi = ui('<div class="linter-messages"></div>', 2);function Hi(e) {return e && e.__esModule ? e : { default: e };}ai = class {constructor(e, t, n) {this.marker = void 0, this.element = document.createElement("div"), this.emitter = new l(), this.messages = void 0, this.subscriptions = new a(), this.messages = e, this.marker = n.markBufferRange([t, t]), this.marker.onDidDestroy(() => this.emitter.emit("did-destroy"));const i = new di.default();(0, Ti.makeOverlaySelectable)(n, this.element), this.element.id = "linter-tooltip", n.decorateMarker(this.marker, { type: "overlay", item: this.element }), this.subscriptions.add(this.emitter, i);const r = [];e.forEach(e => {2 === e.version && r.push(at(_i.default, { get key() {return e.key;}, delegate: i, message: e }));}), ft(() => Wi.cloneNode(!0), this.element), setTimeout(() => {const e = this.element.getBoundingClientRect().height,i = n.getLineHeightInPixels();if (e < (t.row - n.getFirstVisibleScreenRow()) * i) {const t = this.element.parentElement;t && (t.style.transform = `translateY(-${2 + i + e}px)`);} else {const e = n.getElement().querySelector(".datatip-overlay");if (e) {const t = this.element.parentElement;t && (t.style.transform = `translateY(${e.clientHeight}px)`);}}this.element.style.visibility = "visible";}, 50);}isValid(e, t) {if (1 !== this.messages.length || !t.has(this.messages[0].key)) return !1;const n = (0, k.$range)(this.messages[0]);return Boolean(n && n.containsPoint(e));}onDidDestroy(e) {return this.emitter.on("did-destroy", e);}dispose() {this.emitter.emit("did-destroy"), this.subscriptions.dispose();}}, oi.default = ai;var Vi = Yi(oi = oi.default),Ui = {};Object.defineProperty(Ui, "__esModule", { value: !0 });var Zi = function (e, t, n) {const i = n.getComponent().pixelPositionForMouseEvent(e),r = n.getComponent().screenPositionForPixelPosition(i);if (Number.isNaN(r.row) || Number.isNaN(r.column)) return null;const s = n.pixelPositionForScreenPosition(r),o = i.top - s.top,u = i.left - s.left;if ((0 === o || o > 0 && o < 20 || o < 0 && o > -20) && (0 === u || u > 0 && u < 20 || u < 0 && u > -20)) return t.bufferPositionForScreenPosition(r);return null;};Ui.getBufferPositionFromMouseEvent = Zi;var Gi = function ({ event: e, editor: t, editorElement: n, tooltipElement: i, screenPosition: r }) {const s = n.getComponent().pixelPositionForMouseEvent(e),o = n.pixelPositionForScreenPosition(r),u = s.top - o.top,a = s.left - o.left,l = t.getLineHeightInPixels(),c = i.offsetHeight + l,d = i.offsetWidth;if (u > 0) {if (u > c + 1.5 * l) return !1;} else if (u < 0 && u < -1.5 * l) return !1;if (a > 0) {if (a > d + 30) return !1;} else if (a < 0 && a < -30) return !1;return !0;};Ui.mouseEventNearPosition = Gi;var Ki = function (e, t) {let n = e;do {if (n.matches(t)) return !0;n = n.parentElement;} while (n && "HTML" !== n.nodeName);return !1;};Ui.hasParent = Ki;function Yi(e) {return e && e.__esModule ? e : { default: e };}Cn = class {constructor(e) {this.textEditor = void 0, this.gutter = null, this.tooltip = null, this.emitter = new l(), this.markers = new Map(), this.messages = new Map(), this.showTooltip = !0, this.subscriptions = new a(), this.cursorPosition = null, this.gutterPosition = void 0, this.tooltipFollows = "Both", this.showDecorations = void 0, this.showProviderName = !0, this.ignoreTooltipInvocation = !1, this.currentLineMarker = null, this.lastRange = void 0, this.lastIsEmpty = void 0, this.lastCursorPositions = new WeakMap(), this.textEditor = e;let t = null;this.subscriptions.add(this.emitter, e.onDidDestroy(() => {this.dispose();}), new c(function () {var e;null === (e = t) || void 0 === e || e.dispose();}), atom.config.observe("linter-ui-default.showProviderName", e => {this.showProviderName = e;}), atom.config.observe("linter-ui-default.showDecorations", e => {const t = void 0 !== this.showDecorations;this.showDecorations = e, t && this.updateGutter();}), atom.config.observe("linter-ui-default.gutterPosition", e => {const t = void 0 !== this.gutterPosition;this.gutterPosition = e, t && this.updateGutter();}), atom.config.observe("linter-ui-default.showTooltip", e => {this.showTooltip = e, !this.showTooltip && this.tooltip && this.removeTooltip();}), atom.config.observe("linter-ui-default.tooltipFollows", e => {this.tooltipFollows = e, t && t.dispose(), t = new a(), "Mouse" !== e && "Both" !== e || t.add(this.listenForMouseMovement()), "Keyboard" !== e && "Both" !== e || t.add(this.listenForKeyboardMovement()), this.removeTooltip();}), e.onDidChangeCursorPosition(({ cursor: e, newBufferPosition: t }) => {const n = this.lastCursorPositions.get(e);n && n.isEqual(t) || (this.lastCursorPositions.set(e, t), this.ignoreTooltipInvocation = !1), "Mouse" === this.tooltipFollows && this.removeTooltip();}), e.getBuffer().onDidChangeText(() => {e.getCursors().forEach(e => {this.lastCursorPositions.set(e, e.getBufferPosition());}), "Mouse" !== this.tooltipFollows && (this.ignoreTooltipInvocation = !0, this.removeTooltip());})), this.updateGutter(), this.listenForCurrentLine();}listenForCurrentLine() {this.subscriptions.add(this.textEditor.observeCursors(e => {const t = ({ start: e, end: t }) => {const n = this.gutter;if (!n || this.subscriptions.disposed) return;const i = d.fromObject([e, t]),r = d.fromObject([[e.row, 0], [t.row, 1 / 0]]),s = i.isEmpty();if (e.row !== t.row && 0 === i.end.column && r.end.row--, this.lastRange && this.lastRange.isEqual(r) && s === this.lastIsEmpty) return;this.currentLineMarker && (this.currentLineMarker.destroy(), this.currentLineMarker = null), this.lastRange = r, this.lastIsEmpty = s, this.currentLineMarker = this.textEditor.markScreenRange(r, { invalidate: "never" });const o = document.createElement("span");o.className = "line-number cursor-line linter-cursor-line " + (s ? "cursor-line-no-selection" : ""), n.decorateMarker(this.currentLineMarker, { item: o, class: "linter-row" });},n = e.getMarker(),i = new a();i.add(n.onDidChange(({ newHeadScreenPosition: e, newTailScreenPosition: n }) => {t({ start: e, end: n });})), i.add(e.onDidDestroy(() => {this.subscriptions.remove(i), i.dispose();})), i.add(new c(() => {this.currentLineMarker && (this.currentLineMarker.destroy(), this.currentLineMarker = null);})), this.subscriptions.add(i), t(n.getScreenRange());}));}listenForMouseMovement() {const e = atom.views.getView(this.textEditor);return (0, si.default)(e, "mousemove", (0, ri.default)(t => {if (!e.getComponent() || this.subscriptions.disposed || !(0, Ui.hasParent)(t.target, "div.scroll-view")) return;const n = this.tooltip;n && (0, Ui.mouseEventNearPosition)({ event: t, editor: this.textEditor, editorElement: e, tooltipElement: n.element, screenPosition: n.marker.getStartScreenPosition() }) || (this.cursorPosition = (0, Ui.getBufferPositionFromMouseEvent)(t, this.textEditor, e), this.ignoreTooltipInvocation = !1, this.cursorPosition ? this.updateTooltip(this.cursorPosition) : this.removeTooltip());}, 100), { passive: !0 });}listenForKeyboardMovement() {return this.textEditor.onDidChangeCursorPosition((0, ri.default)(({ newBufferPosition: e }) => {this.cursorPosition = e, this.updateTooltip(e);}, 16));}updateGutter() {if (this.removeGutter(), !this.showDecorations) return void (this.gutter = null);const e = "Left" === this.gutterPosition ? -100 : 100;this.gutter = this.textEditor.addGutter({ name: "linter-ui-default", priority: e }), this.markers.forEach((e, t) => {const n = this.messages.get(t);if (n) for (const t of e) this.decorateMarker(n, t, "gutter");});}removeGutter() {if (this.gutter) try {this.gutter.destroy();} catch (e) {}}updateTooltip(e) {if (!e || this.tooltip && this.tooltip.isValid(e, this.messages)) return;if (this.removeTooltip(), !this.showTooltip) return;if (this.ignoreTooltipInvocation) return;const t = (0, k.filterMessagesByRangeOrPoint)(this.messages, this.textEditor.getPath(), e);if (!t.length) return;this.tooltip = new Vi.default(t, e, this.textEditor);const n = this.tooltip.marker;t.forEach(e => {this.saveMarker(e.key, n);}), this.tooltip.onDidDestroy(() => {this.tooltip = null;});}removeTooltip() {this.tooltip && this.tooltip.marker.destroy();}apply(e, t) {const n = this.textEditor.getBuffer();for (let e = 0, n = t.length; e < n; e++) {const n = t[e];this.destroyMarker(n.key);}for (let t = 0, i = e.length; t < i; t++) {const i = e[t],r = (0, k.$range)(i);if (!r) continue;const s = n.markRange(r, { invalidate: "never" });this.decorateMarker(i, s), s.onDidChange(({ oldHeadPosition: e, newHeadPosition: t, isValid: n }) => {!n || 0 === t.row && 0 !== e.row || 2 === i.version && (i.location.position = s.previousEventState.range);});}this.updateTooltip(this.cursorPosition);}decorateMarker(e, t, n = "both") {this.saveMarker(e.key, t), this.messages.set(e.key, e), "both" !== n && "editor" !== n || this.textEditor.decorateMarker(t, { type: "text", class: `linter-highlight linter-${e.severity}` });const i = this.gutter;if (i && ("both" === n || "gutter" === n)) {const n = document.createElement("span");n.className = `linter-gutter linter-gutter-${e.severity} icon icon-${e.icon || "primitive-dot"}`, i.decorateMarker(t, { class: "linter-row", item: n });}}saveMarker(e, t) {const n = this.markers.get(e) || [];n.push(t), this.markers.set(e, n);}destroyMarker(e) {const t = this.markers.get(e);t && t.forEach(e => {e && e.destroy();}), this.markers.delete(e), this.messages.delete(e);}onDidDestroy(e) {return this.emitter.on("did-destroy", e);}dispose() {this.emitter.emit("did-destroy"), this.subscriptions.dispose(), this.removeGutter(), this.removeTooltip();}}, wn.default = Cn;var Xi = function (e) {return e && e.__esModule ? e : { default: e };}(wn = wn.default);bn = class {constructor() {this.editors = new Set(), this.messages = [], this.firstRender = !0, this.subscriptions = new a(), this.subscriptions.add(atom.workspace.observeTextEditors(e => {if ((0, k.isLargeFile)(e)) {const t = atom.notifications.addWarning("Linter: Large/Minified file detected", { detail: "Adding inline linter markers are skipped for this file for performance reasons (linter pane is still active)", dismissable: !0, buttons: [{ text: "Force enable", onDidClick: () => {this.getEditor(e), t.dismiss();} }, { text: "Change threshold", onDidClick: async () => {var e;await atom.workspace.open("atom://config/packages/linter-ui-default"), null === (e = document.querySelectorAll(".control-group")[16]) || void 0 === e || e.scrollIntoView(), t.dismiss();} }] });setTimeout(() => {t.dismiss();}, 5e3);} else this.getEditor(e);}), atom.workspace.getCenter().observeActivePaneItem(e => {this.editors.forEach(t => {t.textEditor !== e && t.removeTooltip();});}));}isFirstRender() {return this.firstRender;}update({ messages: e, added: t, removed: n }) {this.messages = e, this.firstRender = !1;const { editorsMap: i, filePaths: r } = (0, k.getEditorsMap)(this);t.forEach(function (e) {if (!e || !e.location) return;const t = (0, k.$file)(e);t && i.has(t) && i.get(t).added.push(e);}), n.forEach(function (e) {if (!e || !e.location) return;const t = (0, k.$file)(e);t && i.has(t) && i.get(t).removed.push(e);}), r.forEach(function (e) {if (i.has(e)) {const { added: t, removed: n, editors: r } = i.get(e);(t.length || n.length) && r.forEach(e => e.apply(t, n));}});}getEditor(e) {for (const t of this.editors) if (t.textEditor === e) return t;const t = new Xi.default(e);return this.editors.add(t), t.onDidDestroy(() => {this.editors.delete(t);}), t.subscriptions.add(e.onDidChangePath(() => {t.dispose(), this.getEditor(e);})), t.subscriptions.add(e.onDidChangeGrammar(() => {t.dispose(), this.getEditor(e);})), t.apply((0, k.filterMessages)(this.messages, e.getPath()), []), t;}dispose() {for (const e of this.editors) e.dispose();this.subscriptions.dispose();}}, vn.default = bn;var Ji = gr(vn = vn.default),Qi = {};Object.defineProperty(Qi, "__esModule", { value: !0 });var er = void 0;Qi.default = er;var tr = hr(yn),nr = hr(r),ir = {};Object.defineProperty(ir, "__esModule", { value: !0 });var rr = lr;ir.getChunks = rr;var sr = cr;ir.getChunksByProjects = sr;var or = dr;ir.mergeChange = or;var ur = function (e, t) {const n = {},i = atom.project.getPaths();return t.forEach(function (t) {const r = (0, k.$file)(t);if (r) {("Files" === e ? [r] : cr(r, i)).forEach(e => dr(n, e, t.severity));}}), n;};ir.calculateDecorations = ur;var ar = function (e) {return e && e.__esModule ? e : { default: e };}(n);function lr(e, t) {const n = [],i = e.split(ar.default.sep);for (; i.length;) {const e = i.join(ar.default.sep);if (e && (n.push(e), e === t)) break;i.pop();}return n;}function cr(e, t) {const n = t.find(t => e.startsWith(t));return n ? lr(e, n) : [e];}function dr(e, t, n) {e[t] || (e[t] = { info: !1, error: !1, warning: !1 }), e[t][n] = !0;}function hr(e) {return e && e.__esModule ? e : { default: e };}class fr {constructor() {this.messages = [], this.decorations = {}, this.subscriptions = new a(), this.decorateOnTreeView = void 0, this.subscriptions.add(atom.config.observe("linter-ui-default.decorateOnTreeView", e => {if (void 0 === this.decorateOnTreeView) this.decorateOnTreeView = e;else if ("None" === e) this.update([]), this.decorateOnTreeView = e;else {const t = this.messages;this.decorateOnTreeView = e, this.update(t);}})), setTimeout(() => {const e = fr.getElement();e && this.subscriptions.add((0, nr.default)(e, "click", (0, tr.default)(() => {this.update();}), { passive: !0 }));}, 100);}update(e = null) {Array.isArray(e) && (this.messages = e);const t = this.messages,n = fr.getElement(),i = this.decorateOnTreeView;n && "None" !== i && this.applyDecorations((0, ir.calculateDecorations)(i, t));}applyDecorations(e) {const t = fr.getElement();if (!t) return;const n = {},i = {};Object.keys(this.decorations).forEach(i => {if ({}.hasOwnProperty.call(this.decorations, i) && !e[i]) {const e = n[i] || (n[i] = fr.getElementByPath(t, i));e && function (e) {var t;null === (t = e.querySelector("linter-decoration")) || void 0 === t || t.remove();}(e);}}), Object.keys(e).forEach(r => {if (!{}.hasOwnProperty.call(e, r)) return;const s = n[r] || (n[r] = fr.getElementByPath(t, r));s && (!function (e, t, n = !1) {let i = null;n && (i = e.querySelector("linter-decoration"));null !== i ? i.className = "" : (i = document.createElement("linter-decoration"), e.appendChild(i));t.error ? i.classList.add("linter-error") : t.warning ? i.classList.add("linter-warning") : t.info && i.classList.add("linter-info");}(s, e[r], Boolean(this.decorations[r])), i[r] = e[r]);}), this.decorations = i;}dispose() {this.subscriptions.dispose();}static getElement() {return document.querySelector(".tree-view");}static getElementByPath(e, t) {return e.querySelector(`[data-path=${CSS.escape(t)}]`);}}er = fr, Qi.default = er;var pr = gr(Qi = Qi.default);function gr(e) {return e && e.__esModule ? e : { default: e };}b = class {constructor() {this.name = "Linter", this.panel = void 0, this.signal = new pn.default(), this.editors = void 0, this.treeview = void 0, this.commands = new en.default(), this.messages = [], this.statusBar = new dn.default(), this.intentions = new mn.default(), this.subscriptions = new a(), this.idleCallbacks = new Set(), this.subscriptions.add(this.signal, this.commands, this.statusBar);const e = window.requestIdleCallback(() => {this.idleCallbacks.delete(e), this.panel = new Kt.default(), this.panel.update(this.messages);});this.idleCallbacks.add(e);const t = window.requestIdleCallback(() => {this.idleCallbacks.delete(t), this.subscriptions.add(atom.config.observe("linter-ui-default.showDecorations", e => {e && !this.editors ? (this.editors = new Ji.default(), this.editors.update({ added: this.messages, removed: [], messages: this.messages })) : !e && this.editors && (this.editors.dispose(), this.editors = null);}));});this.idleCallbacks.add(t);}render(e) {const t = this.editors;this.messages = e.messages, t && (t.isFirstRender() ? t.update({ added: e.messages, removed: [], messages: e.messages }) : t.update(e)), this.treeview || (this.treeview = new pr.default(), this.subscriptions.add(this.treeview)), this.treeview.update(e.messages), this.panel && this.panel.update(e.messages), this.commands.update(e.messages), this.intentions.update(e.messages), this.statusBar.update(e.messages);}didBeginLinting(e, t) {this.signal.didBeginLinting(e, t);}didFinishLinting(e, t) {this.signal.didFinishLinting(e, t);}dispose() {this.idleCallbacks.forEach(e => window.cancelIdleCallback(e)), this.idleCallbacks.clear(), this.subscriptions.dispose(), this.panel && this.panel.dispose(), this.editors && this.editors.dispose();}}, v.default = b;var Dr = function (e) {return e && e.__esModule ? e : { default: e };}(v = v.default);const mr = new Set(),vr = new Set();let br, wr;